{"version":3,"sources":["../domain/ux/value-objects/UIState.ts","../domain/ux/value-objects/UIRole.ts","../domain/ux/value-objects/ComponentIntent.ts","../domain/ux/entities/UXDecision.ts","../domain/tokens/value-objects/DesignToken.ts","../domain/tokens/entities/TokenCollection.ts","../domain/tokens/services/TokenDerivationService.ts"],"names":[],"mappings":"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","file":"chunk-YC4E5BUD.mjs","sourcesContent":["/**\n * @fileoverview UIState Value Object\n *\n * Value Object que representa un estado de interaccin de componente UI.\n * Define transiciones vlidas, metadatos perceptuales y reglas de negocio\n * para estados de interfaz.\n *\n * @module momoto-ui/domain/ux/value-objects/UIState\n * @version 1.0.0\n */\n\nimport type { UIState as UIStateType, Result } from '../../types';\nimport { success, failure } from '../../types';\n\n// ============================================================================\n// CONSTANTS\n// ============================================================================\n\n/**\n * Estados vlidos de UI.\n */\nexport const UI_STATES = [\n  'idle',\n  'hover',\n  'active',\n  'focus',\n  'disabled',\n  'loading',\n  'error',\n  'success',\n] as const;\n\n/**\n * Matriz de transiciones vlidas entre estados.\n * Define qu transiciones son permitidas desde cada estado.\n */\nconst STATE_TRANSITIONS: Record<UIStateType, readonly UIStateType[]> = {\n  idle: ['hover', 'focus', 'active', 'disabled', 'loading', 'error', 'success'],\n  hover: ['idle', 'active', 'focus', 'disabled'],\n  active: ['idle', 'hover', 'focus', 'loading', 'error', 'success'],\n  focus: ['idle', 'hover', 'active', 'disabled', 'loading'],\n  disabled: ['idle', 'loading'],\n  loading: ['idle', 'error', 'success', 'disabled'],\n  error: ['idle', 'hover', 'focus', 'active', 'loading'],\n  success: ['idle', 'hover', 'focus', 'active', 'loading'],\n} as const;\n\n/**\n * Prioridad de estados para resolucin de conflictos.\n * Mayor nmero = mayor prioridad.\n */\nconst STATE_PRIORITY: Record<UIStateType, number> = {\n  disabled: 100,  // Siempre gana\n  loading: 90,\n  error: 80,\n  success: 75,\n  active: 60,\n  focus: 50,\n  hover: 40,\n  idle: 0,\n} as const;\n\n/**\n * Metadatos perceptuales por estado.\n */\ninterface StatePerceptualMetadata {\n  readonly requiresContrast: boolean;\n  readonly suggestedLightnessShift: number;\n  readonly suggestedChromaShift: number;\n  readonly suggestedOpacity: number;\n  readonly animation: 'none' | 'subtle' | 'medium' | 'prominent';\n  readonly focusIndicator: boolean;\n}\n\nconst STATE_METADATA: Record<UIStateType, StatePerceptualMetadata> = {\n  idle: {\n    requiresContrast: true,\n    suggestedLightnessShift: 0,\n    suggestedChromaShift: 0,\n    suggestedOpacity: 1,\n    animation: 'none',\n    focusIndicator: false,\n  },\n  hover: {\n    requiresContrast: true,\n    suggestedLightnessShift: 0.05,\n    suggestedChromaShift: 0.02,\n    suggestedOpacity: 1,\n    animation: 'subtle',\n    focusIndicator: false,\n  },\n  active: {\n    requiresContrast: true,\n    suggestedLightnessShift: -0.08,\n    suggestedChromaShift: 0.03,\n    suggestedOpacity: 1,\n    animation: 'medium',\n    focusIndicator: false,\n  },\n  focus: {\n    requiresContrast: true,\n    suggestedLightnessShift: 0,\n    suggestedChromaShift: 0,\n    suggestedOpacity: 1,\n    animation: 'subtle',\n    focusIndicator: true,\n  },\n  disabled: {\n    requiresContrast: false, // Reduced requirements for disabled\n    suggestedLightnessShift: 0.2,\n    suggestedChromaShift: -0.1,\n    suggestedOpacity: 0.5,\n    animation: 'none',\n    focusIndicator: false,\n  },\n  loading: {\n    requiresContrast: true,\n    suggestedLightnessShift: 0,\n    suggestedChromaShift: -0.05,\n    suggestedOpacity: 0.7,\n    animation: 'prominent',\n    focusIndicator: false,\n  },\n  error: {\n    requiresContrast: true,\n    suggestedLightnessShift: 0,\n    suggestedChromaShift: 0.1,\n    suggestedOpacity: 1,\n    animation: 'medium',\n    focusIndicator: false,\n  },\n  success: {\n    requiresContrast: true,\n    suggestedLightnessShift: 0,\n    suggestedChromaShift: 0.05,\n    suggestedOpacity: 1,\n    animation: 'subtle',\n    focusIndicator: false,\n  },\n} as const;\n\n// ============================================================================\n// UI STATE VALUE OBJECT\n// ============================================================================\n\n/**\n * UIState - Value Object para estados de interaccin.\n *\n * Encapsula un estado de UI con toda su lgica de dominio:\n * - Transiciones vlidas\n * - Metadatos perceptuales\n * - Priorizacin\n * - Combinacin de estados\n *\n * @example\n * ```typescript\n * const idle = UIState.idle();\n * const hover = UIState.hover();\n *\n * // Verificar transicin vlida\n * if (idle.canTransitionTo(hover)) {\n *   const newState = idle.transitionTo(hover);\n * }\n *\n * // Combinar estados (focus + hover)\n * const combined = UIState.combine([hover, UIState.focus()]);\n * console.log(combined.value); // 'focus' (mayor prioridad)\n *\n * // Obtener metadatos perceptuales\n * console.log(hover.metadata.suggestedLightnessShift); // 0.05\n * ```\n */\nexport class UIState {\n  // \n  // PRIVATE STATE\n  // \n\n  private readonly _value: UIStateType;\n\n  // \n  // CONSTRUCTOR (Private)\n  // \n\n  private constructor(value: UIStateType) {\n    this._value = value;\n  }\n\n  // \n  // STATIC FACTORIES\n  // \n\n  /**\n   * Crea desde un string.\n   */\n  static from(value: string): Result<UIState, Error> {\n    if (!UI_STATES.includes(value as UIStateType)) {\n      return failure(new Error(`Invalid UI state: ${value}`));\n    }\n    return success(new UIState(value as UIStateType));\n  }\n\n  /**\n   * Crea un UIState sin validacin (usar solo con valores conocidos).\n   */\n  static of(value: UIStateType): UIState {\n    return new UIState(value);\n  }\n\n  // Named constructors for each state\n  static idle(): UIState { return new UIState('idle'); }\n  static hover(): UIState { return new UIState('hover'); }\n  static active(): UIState { return new UIState('active'); }\n  static focus(): UIState { return new UIState('focus'); }\n  static disabled(): UIState { return new UIState('disabled'); }\n  static loading(): UIState { return new UIState('loading'); }\n  static error(): UIState { return new UIState('error'); }\n  static success(): UIState { return new UIState('success'); }\n\n  /**\n   * Obtiene todos los estados posibles.\n   */\n  static all(): readonly UIState[] {\n    return UI_STATES.map(s => new UIState(s));\n  }\n\n  /**\n   * Combina mltiples estados, retornando el de mayor prioridad.\n   */\n  static combine(states: readonly UIState[]): UIState {\n    if (states.length === 0) {\n      return UIState.idle();\n    }\n\n    return states.reduce((highest, current) =>\n      current.priority > highest.priority ? current : highest\n    );\n  }\n\n  // \n  // GETTERS\n  // \n\n  /**\n   * Valor del estado.\n   */\n  get value(): UIStateType {\n    return this._value;\n  }\n\n  /**\n   * Prioridad del estado.\n   */\n  get priority(): number {\n    return STATE_PRIORITY[this._value];\n  }\n\n  /**\n   * Metadatos perceptuales del estado.\n   */\n  get metadata(): StatePerceptualMetadata {\n    return STATE_METADATA[this._value];\n  }\n\n  /**\n   * Estados a los que se puede transicionar.\n   */\n  get validTransitions(): readonly UIStateType[] {\n    return STATE_TRANSITIONS[this._value];\n  }\n\n  // \n  // PREDICADOS\n  // \n\n  /**\n   * Verifica si es el estado idle.\n   */\n  get isIdle(): boolean { return this._value === 'idle'; }\n\n  /**\n   * Verifica si es un estado interactivo (hover, active, focus).\n   */\n  get isInteractive(): boolean {\n    return ['hover', 'active', 'focus'].includes(this._value);\n  }\n\n  /**\n   * Verifica si es un estado de feedback (error, success, loading).\n   */\n  get isFeedback(): boolean {\n    return ['error', 'success', 'loading'].includes(this._value);\n  }\n\n  /**\n   * Verifica si el estado requiere alto contraste.\n   */\n  get requiresHighContrast(): boolean {\n    return this.metadata.requiresContrast;\n  }\n\n  /**\n   * Verifica si el estado necesita indicador de focus.\n   */\n  get needsFocusIndicator(): boolean {\n    return this.metadata.focusIndicator;\n  }\n\n  /**\n   * Verifica si el estado tiene animacin.\n   */\n  get hasAnimation(): boolean {\n    return this.metadata.animation !== 'none';\n  }\n\n  // \n  // TRANSICIONES\n  // \n\n  /**\n   * Verifica si puede transicionar a otro estado.\n   */\n  canTransitionTo(target: UIState): boolean {\n    return this.validTransitions.includes(target.value);\n  }\n\n  /**\n   * Transiciona a otro estado si es vlido.\n   */\n  transitionTo(target: UIState): Result<UIState, Error> {\n    if (!this.canTransitionTo(target)) {\n      return failure(\n        new Error(\n          `Invalid transition from '${this._value}' to '${target.value}'`\n        )\n      );\n    }\n    return success(target);\n  }\n\n  /**\n   * Fuerza transicin (sin validacin).\n   * Usar solo cuando se sabe que es correcto.\n   */\n  forceTransitionTo(target: UIState): UIState {\n    return target;\n  }\n\n  // \n  // COMPARACIN\n  // \n\n  /**\n   * Verifica igualdad.\n   */\n  equals(other: UIState): boolean {\n    return this._value === other._value;\n  }\n\n  /**\n   * Compara por prioridad.\n   * Retorna positivo si this tiene mayor prioridad.\n   */\n  comparePriority(other: UIState): number {\n    return this.priority - other.priority;\n  }\n\n  // \n  // SERIALIZACIN\n  // \n\n  toString(): string {\n    return this._value;\n  }\n\n  toJSON(): UIStateType {\n    return this._value;\n  }\n}\n\n// ============================================================================\n// STATE MACHINE\n// ============================================================================\n\n/**\n * Mquina de estados simple para gestionar transiciones.\n */\nexport class UIStateMachine {\n  private _current: UIState;\n  private readonly _history: UIState[] = [];\n  private readonly _maxHistory: number;\n\n  constructor(initial: UIState = UIState.idle(), maxHistory = 10) {\n    this._current = initial;\n    this._maxHistory = maxHistory;\n  }\n\n  /**\n   * Estado actual.\n   */\n  get current(): UIState {\n    return this._current;\n  }\n\n  /**\n   * Historial de estados.\n   */\n  get history(): readonly UIState[] {\n    return [...this._history];\n  }\n\n  /**\n   * Intenta transicionar a un nuevo estado.\n   */\n  transition(target: UIState): Result<UIState, Error> {\n    const result = this._current.transitionTo(target);\n\n    if (result.success) {\n      this._history.push(this._current);\n      if (this._history.length > this._maxHistory) {\n        this._history.shift();\n      }\n      this._current = result.value;\n    }\n\n    return result;\n  }\n\n  /**\n   * Fuerza transicin (sin validacin).\n   */\n  forceTransition(target: UIState): void {\n    this._history.push(this._current);\n    if (this._history.length > this._maxHistory) {\n      this._history.shift();\n    }\n    this._current = target;\n  }\n\n  /**\n   * Retrocede al estado anterior.\n   */\n  back(): Result<UIState, Error> {\n    if (this._history.length === 0) {\n      return failure(new Error('No previous state in history'));\n    }\n    const previous = this._history.pop()!;\n    this._current = previous;\n    return success(previous);\n  }\n\n  /**\n   * Resetea al estado inicial.\n   */\n  reset(): void {\n    this._history.length = 0;\n    this._current = UIState.idle();\n  }\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default UIState;\n// UI_STATES is exported inline; these are not:\nexport { STATE_PRIORITY, STATE_TRANSITIONS };\n","/**\n * @fileoverview UIRole Value Object\n *\n * Value Object que representa el rol semntico de un color en la UI.\n * Define el PROPSITO del color, no su valor especfico.\n *\n * Principio fundamental: \"El color no tiene significado inherente,\n * su significado viene de su rol en el contexto.\"\n *\n * @module momoto-ui/domain/ux/value-objects/UIRole\n * @version 1.0.0\n */\n\nimport type { UIRole as UIRoleType, ApcaLevel, Result } from '../../types';\nimport { success, failure } from '../../types';\n\n// ============================================================================\n// CONSTANTS\n// ============================================================================\n\n/**\n * Roles vlidos de UI.\n */\nexport const UI_ROLES = [\n  'background',\n  'surface',\n  'surface-elevated',\n  'text-primary',\n  'text-secondary',\n  'text-muted',\n  'text-inverse',\n  'icon',\n  'icon-muted',\n  'accent',\n  'accent-muted',\n  'border',\n  'border-subtle',\n  'divider',\n  'overlay',\n  'shadow',\n  'focus-ring',\n] as const;\n\n/**\n * Categoras de roles.\n */\nexport type RoleCategory =\n  | 'background'\n  | 'text'\n  | 'icon'\n  | 'accent'\n  | 'structural'\n  | 'decorative';\n\n/**\n * Mapeo de rol a categora.\n */\nconst ROLE_CATEGORIES: Record<UIRoleType, RoleCategory> = {\n  'background': 'background',\n  'surface': 'background',\n  'surface-elevated': 'background',\n  'text-primary': 'text',\n  'text-secondary': 'text',\n  'text-muted': 'text',\n  'text-inverse': 'text',\n  'icon': 'icon',\n  'icon-muted': 'icon',\n  'accent': 'accent',\n  'accent-muted': 'accent',\n  'border': 'structural',\n  'border-subtle': 'structural',\n  'divider': 'structural',\n  'overlay': 'decorative',\n  'shadow': 'decorative',\n  'focus-ring': 'structural',\n} as const;\n\n/**\n * Requisitos de accesibilidad por rol.\n */\ninterface RoleAccessibilityRequirements {\n  readonly minApcaLevel: ApcaLevel;\n  readonly requiresContrastAgainst: readonly UIRoleType[];\n  readonly isDecorative: boolean;\n  readonly fontSizeDependent: boolean;\n}\n\nconst ROLE_ACCESSIBILITY: Record<UIRoleType, RoleAccessibilityRequirements> = {\n  'background': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: [],\n    isDecorative: true,\n    fontSizeDependent: false,\n  },\n  'surface': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: ['background'],\n    isDecorative: false,\n    fontSizeDependent: false,\n  },\n  'surface-elevated': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: ['surface', 'background'],\n    isDecorative: false,\n    fontSizeDependent: false,\n  },\n  'text-primary': {\n    minApcaLevel: 'body',\n    requiresContrastAgainst: ['background', 'surface', 'surface-elevated'],\n    isDecorative: false,\n    fontSizeDependent: true,\n  },\n  'text-secondary': {\n    minApcaLevel: 'body',\n    requiresContrastAgainst: ['background', 'surface'],\n    isDecorative: false,\n    fontSizeDependent: true,\n  },\n  'text-muted': {\n    minApcaLevel: 'large',\n    requiresContrastAgainst: ['background', 'surface'],\n    isDecorative: false,\n    fontSizeDependent: true,\n  },\n  'text-inverse': {\n    minApcaLevel: 'body',\n    requiresContrastAgainst: ['accent'],\n    isDecorative: false,\n    fontSizeDependent: true,\n  },\n  'icon': {\n    minApcaLevel: 'spot',\n    requiresContrastAgainst: ['background', 'surface'],\n    isDecorative: false,\n    fontSizeDependent: false,\n  },\n  'icon-muted': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: ['background', 'surface'],\n    isDecorative: true,\n    fontSizeDependent: false,\n  },\n  'accent': {\n    minApcaLevel: 'spot',\n    requiresContrastAgainst: ['background', 'surface'],\n    isDecorative: false,\n    fontSizeDependent: false,\n  },\n  'accent-muted': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: ['background'],\n    isDecorative: true,\n    fontSizeDependent: false,\n  },\n  'border': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: ['background', 'surface'],\n    isDecorative: false,\n    fontSizeDependent: false,\n  },\n  'border-subtle': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: [],\n    isDecorative: true,\n    fontSizeDependent: false,\n  },\n  'divider': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: [],\n    isDecorative: true,\n    fontSizeDependent: false,\n  },\n  'overlay': {\n    minApcaLevel: 'minimum',\n    requiresContrastAgainst: [],\n    isDecorative: true,\n    fontSizeDependent: false,\n  },\n  'shadow': {\n    minApcaLevel: 'fail', // No contrast requirements\n    requiresContrastAgainst: [],\n    isDecorative: true,\n    fontSizeDependent: false,\n  },\n  'focus-ring': {\n    minApcaLevel: 'spot',\n    requiresContrastAgainst: ['background', 'surface', 'accent'],\n    isDecorative: false,\n    fontSizeDependent: false,\n  },\n} as const;\n\n/**\n * Relaciones semnticas entre roles.\n * Define qu roles \"van juntos\" o deben considerarse en conjunto.\n */\ninterface RoleRelationships {\n  readonly pairedWith: readonly UIRoleType[];\n  readonly derivableFrom: readonly UIRoleType[];\n  readonly overrides: readonly UIRoleType[];\n}\n\nconst ROLE_RELATIONSHIPS: Record<UIRoleType, RoleRelationships> = {\n  'background': {\n    pairedWith: ['text-primary', 'text-secondary', 'border'],\n    derivableFrom: [],\n    overrides: [],\n  },\n  'surface': {\n    pairedWith: ['text-primary', 'border'],\n    derivableFrom: ['background'],\n    overrides: ['background'],\n  },\n  'surface-elevated': {\n    pairedWith: ['text-primary', 'shadow'],\n    derivableFrom: ['surface'],\n    overrides: ['surface'],\n  },\n  'text-primary': {\n    pairedWith: ['background', 'surface'],\n    derivableFrom: [],\n    overrides: [],\n  },\n  'text-secondary': {\n    pairedWith: ['background', 'surface'],\n    derivableFrom: ['text-primary'],\n    overrides: [],\n  },\n  'text-muted': {\n    pairedWith: ['background'],\n    derivableFrom: ['text-secondary'],\n    overrides: [],\n  },\n  'text-inverse': {\n    pairedWith: ['accent'],\n    derivableFrom: ['text-primary'],\n    overrides: [],\n  },\n  'icon': {\n    pairedWith: ['background', 'surface'],\n    derivableFrom: ['text-primary'],\n    overrides: [],\n  },\n  'icon-muted': {\n    pairedWith: ['background'],\n    derivableFrom: ['icon'],\n    overrides: [],\n  },\n  'accent': {\n    pairedWith: ['text-inverse', 'background'],\n    derivableFrom: [],\n    overrides: [],\n  },\n  'accent-muted': {\n    pairedWith: ['background'],\n    derivableFrom: ['accent'],\n    overrides: [],\n  },\n  'border': {\n    pairedWith: ['surface', 'background'],\n    derivableFrom: ['text-muted'],\n    overrides: [],\n  },\n  'border-subtle': {\n    pairedWith: ['surface'],\n    derivableFrom: ['border'],\n    overrides: [],\n  },\n  'divider': {\n    pairedWith: ['surface'],\n    derivableFrom: ['border-subtle'],\n    overrides: [],\n  },\n  'overlay': {\n    pairedWith: ['background'],\n    derivableFrom: [],\n    overrides: [],\n  },\n  'shadow': {\n    pairedWith: ['surface-elevated'],\n    derivableFrom: [],\n    overrides: [],\n  },\n  'focus-ring': {\n    pairedWith: ['accent'],\n    derivableFrom: ['accent'],\n    overrides: [],\n  },\n} as const;\n\n// ============================================================================\n// UI ROLE VALUE OBJECT\n// ============================================================================\n\n/**\n * UIRole - Value Object para roles semnticos de color.\n *\n * El rol define el PROPSITO de un color, no su valor.\n * Esto permite que el sistema de tokens genere valores apropiados\n * basndose en el contexto y las polticas de accesibilidad.\n *\n * @example\n * ```typescript\n * const textRole = UIRole.textPrimary();\n * const bgRole = UIRole.background();\n *\n * // Verificar requisitos de accesibilidad\n * console.log(textRole.minApcaLevel); // 'body'\n * console.log(textRole.requiresContrastAgainst); // ['background', 'surface', ...]\n *\n * // Verificar relaciones\n * console.log(textRole.isPairedWith(bgRole)); // true\n *\n * // Categora\n * console.log(textRole.category); // 'text'\n * ```\n */\nexport class UIRole {\n  // \n  // PRIVATE STATE\n  // \n\n  private readonly _value: UIRoleType;\n\n  // \n  // CONSTRUCTOR (Private)\n  // \n\n  private constructor(value: UIRoleType) {\n    this._value = value;\n  }\n\n  // \n  // STATIC FACTORIES\n  // \n\n  /**\n   * Crea desde un string.\n   */\n  static from(value: string): Result<UIRole, Error> {\n    if (!UI_ROLES.includes(value as UIRoleType)) {\n      return failure(new Error(`Invalid UI role: ${value}`));\n    }\n    return success(new UIRole(value as UIRoleType));\n  }\n\n  /**\n   * Crea un UIRole sin validacin.\n   */\n  static of(value: UIRoleType): UIRole {\n    return new UIRole(value);\n  }\n\n  // Named constructors\n  static background(): UIRole { return new UIRole('background'); }\n  static surface(): UIRole { return new UIRole('surface'); }\n  static surfaceElevated(): UIRole { return new UIRole('surface-elevated'); }\n  static textPrimary(): UIRole { return new UIRole('text-primary'); }\n  static textSecondary(): UIRole { return new UIRole('text-secondary'); }\n  static textMuted(): UIRole { return new UIRole('text-muted'); }\n  static textInverse(): UIRole { return new UIRole('text-inverse'); }\n  static icon(): UIRole { return new UIRole('icon'); }\n  static iconMuted(): UIRole { return new UIRole('icon-muted'); }\n  static accent(): UIRole { return new UIRole('accent'); }\n  static accentMuted(): UIRole { return new UIRole('accent-muted'); }\n  static border(): UIRole { return new UIRole('border'); }\n  static borderSubtle(): UIRole { return new UIRole('border-subtle'); }\n  static divider(): UIRole { return new UIRole('divider'); }\n  static overlay(): UIRole { return new UIRole('overlay'); }\n  static shadow(): UIRole { return new UIRole('shadow'); }\n  static focusRing(): UIRole { return new UIRole('focus-ring'); }\n\n  /**\n   * Obtiene todos los roles.\n   */\n  static all(): readonly UIRole[] {\n    return UI_ROLES.map(r => new UIRole(r));\n  }\n\n  /**\n   * Obtiene roles por categora.\n   */\n  static byCategory(category: RoleCategory): readonly UIRole[] {\n    return UI_ROLES\n      .filter(r => ROLE_CATEGORIES[r] === category)\n      .map(r => new UIRole(r));\n  }\n\n  // \n  // GETTERS\n  // \n\n  /**\n   * Valor del rol.\n   */\n  get value(): UIRoleType {\n    return this._value;\n  }\n\n  /**\n   * Categora del rol.\n   */\n  get category(): RoleCategory {\n    return ROLE_CATEGORIES[this._value];\n  }\n\n  /**\n   * Requisitos de accesibilidad.\n   */\n  get accessibilityRequirements(): RoleAccessibilityRequirements {\n    return ROLE_ACCESSIBILITY[this._value];\n  }\n\n  /**\n   * Nivel APCA mnimo requerido.\n   */\n  get minApcaLevel(): ApcaLevel {\n    return ROLE_ACCESSIBILITY[this._value].minApcaLevel;\n  }\n\n  /**\n   * Roles contra los que debe contrastar.\n   */\n  get requiresContrastAgainst(): readonly UIRoleType[] {\n    return ROLE_ACCESSIBILITY[this._value].requiresContrastAgainst;\n  }\n\n  /**\n   * Relaciones con otros roles.\n   */\n  get relationships(): RoleRelationships {\n    return ROLE_RELATIONSHIPS[this._value];\n  }\n\n  /**\n   * Roles con los que suele usarse en conjunto.\n   */\n  get pairedWith(): readonly UIRoleType[] {\n    return ROLE_RELATIONSHIPS[this._value].pairedWith;\n  }\n\n  /**\n   * Roles de los que puede derivarse.\n   */\n  get derivableFrom(): readonly UIRoleType[] {\n    return ROLE_RELATIONSHIPS[this._value].derivableFrom;\n  }\n\n  // \n  // PREDICADOS\n  // \n\n  /**\n   * Es un rol de fondo.\n   */\n  get isBackground(): boolean {\n    return this.category === 'background';\n  }\n\n  /**\n   * Es un rol de texto.\n   */\n  get isText(): boolean {\n    return this.category === 'text';\n  }\n\n  /**\n   * Es un rol de icono.\n   */\n  get isIcon(): boolean {\n    return this.category === 'icon';\n  }\n\n  /**\n   * Es un rol de acento.\n   */\n  get isAccent(): boolean {\n    return this.category === 'accent';\n  }\n\n  /**\n   * Es decorativo (no requiere contraste estricto).\n   */\n  get isDecorative(): boolean {\n    return ROLE_ACCESSIBILITY[this._value].isDecorative;\n  }\n\n  /**\n   * Depende del tamao de fuente para requisitos de contraste.\n   */\n  get isFontSizeDependent(): boolean {\n    return ROLE_ACCESSIBILITY[this._value].fontSizeDependent;\n  }\n\n  /**\n   * Verifica si est emparejado con otro rol.\n   */\n  isPairedWith(other: UIRole): boolean {\n    return this.pairedWith.includes(other.value);\n  }\n\n  /**\n   * Verifica si puede derivarse de otro rol.\n   */\n  canDeriveFrom(other: UIRole): boolean {\n    return this.derivableFrom.includes(other.value);\n  }\n\n  /**\n   * Verifica si debe contrastar con otro rol.\n   */\n  mustContrastWith(other: UIRole): boolean {\n    return this.requiresContrastAgainst.includes(other.value);\n  }\n\n  // \n  // TRANSFORMACIONES\n  // \n\n  /**\n   * Obtiene el rol \"muted\" correspondiente.\n   */\n  toMuted(): UIRole | null {\n    switch (this._value) {\n      case 'text-primary':\n      case 'text-secondary':\n        return UIRole.textMuted();\n      case 'icon':\n        return UIRole.iconMuted();\n      case 'accent':\n        return UIRole.accentMuted();\n      case 'border':\n        return UIRole.borderSubtle();\n      default:\n        return null;\n    }\n  }\n\n  /**\n   * Obtiene el rol \"inverso\" (para uso sobre accent).\n   */\n  toInverse(): UIRole | null {\n    switch (this._value) {\n      case 'text-primary':\n      case 'text-secondary':\n        return UIRole.textInverse();\n      default:\n        return null;\n    }\n  }\n\n  // \n  // COMPARACIN\n  // \n\n  equals(other: UIRole): boolean {\n    return this._value === other._value;\n  }\n\n  /**\n   * Verifica si comparten categora.\n   */\n  sameCategory(other: UIRole): boolean {\n    return this.category === other.category;\n  }\n\n  // \n  // SERIALIZACIN\n  // \n\n  toString(): string {\n    return this._value;\n  }\n\n  toJSON(): UIRoleType {\n    return this._value;\n  }\n\n  /**\n   * Convierte a nombre de variable CSS.\n   */\n  toCssVar(): string {\n    return `--${this._value}`;\n  }\n\n  /**\n   * Convierte a nombre de token.\n   */\n  toTokenName(): string {\n    return `color.${this._value.replace(/-/g, '.')}`;\n  }\n}\n\n// ============================================================================\n// ROLE PAIR\n// ============================================================================\n\n/**\n * Representa un par de roles foreground/background.\n * til para validacin de contraste.\n */\nexport class RolePair {\n  constructor(\n    public readonly foreground: UIRole,\n    public readonly background: UIRole\n  ) {}\n\n  /**\n   * Verifica si el par requiere validacin de contraste.\n   */\n  get requiresContrastValidation(): boolean {\n    return this.foreground.mustContrastWith(this.background);\n  }\n\n  /**\n   * Obtiene el nivel APCA mnimo requerido para este par.\n   */\n  get requiredApcaLevel(): ApcaLevel {\n    return this.foreground.minApcaLevel;\n  }\n\n  /**\n   * Verifica si es un par vlido (roles que van juntos).\n   */\n  get isValidPair(): boolean {\n    return this.foreground.isPairedWith(this.background);\n  }\n\n  equals(other: RolePair): boolean {\n    return (\n      this.foreground.equals(other.foreground) &&\n      this.background.equals(other.background)\n    );\n  }\n\n  /**\n   * Invierte el par (til para verificacin bidireccional).\n   */\n  invert(): RolePair {\n    return new RolePair(this.background, this.foreground);\n  }\n\n  toString(): string {\n    return `${this.foreground.value}/${this.background.value}`;\n  }\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default UIRole;\n// UI_ROLES and RoleCategory are exported inline; these are not:\nexport { ROLE_CATEGORIES, ROLE_ACCESSIBILITY, ROLE_RELATIONSHIPS };\nexport type { RoleAccessibilityRequirements, RoleRelationships };\n","/**\n * @fileoverview ComponentIntent Value Object\n *\n * Value Object que representa la intencin semntica de un componente.\n * Define QU hace el componente, no CMO se ve.\n *\n * @module momoto-ui/domain/ux/value-objects/ComponentIntent\n * @version 1.0.0\n */\n\nimport type {\n  ComponentIntent as ComponentIntentType,\n  Severity,\n  ComponentVariant,\n  UIRole as UIRoleType,\n  Result,\n} from '../../types';\nimport { success, failure } from '../../types';\nimport { UIRole } from './UIRole';\nimport { UIState } from './UIState';\n\n// ============================================================================\n// CONSTANTS\n// ============================================================================\n\n/**\n * Intenciones vlidas de componente.\n */\nexport const COMPONENT_INTENTS = [\n  'navigation',\n  'action',\n  'action-destructive',\n  'action-secondary',\n  'status-info',\n  'status-success',\n  'status-warning',\n  'status-error',\n  'data-entry',\n  'data-display',\n  'feedback',\n  'decoration',\n] as const;\n\n/**\n * Categora de intencin.\n */\nexport type IntentCategory =\n  | 'navigation'\n  | 'action'\n  | 'status'\n  | 'data'\n  | 'feedback'\n  | 'decoration';\n\n/**\n * Mapeo de intencin a categora.\n */\nconst INTENT_CATEGORIES: Record<ComponentIntentType, IntentCategory> = {\n  'navigation': 'navigation',\n  'action': 'action',\n  'action-destructive': 'action',\n  'action-secondary': 'action',\n  'status-info': 'status',\n  'status-success': 'status',\n  'status-warning': 'status',\n  'status-error': 'status',\n  'data-entry': 'data',\n  'data-display': 'data',\n  'feedback': 'feedback',\n  'decoration': 'decoration',\n} as const;\n\n/**\n * Severidad por intencin.\n */\nconst INTENT_SEVERITY: Record<ComponentIntentType, Severity> = {\n  'navigation': 'neutral',\n  'action': 'info',\n  'action-destructive': 'error',\n  'action-secondary': 'neutral',\n  'status-info': 'info',\n  'status-success': 'success',\n  'status-warning': 'warning',\n  'status-error': 'error',\n  'data-entry': 'neutral',\n  'data-display': 'neutral',\n  'feedback': 'info',\n  'decoration': 'neutral',\n} as const;\n\n/**\n * Variantes recomendadas por intencin.\n */\nconst INTENT_VARIANTS: Record<ComponentIntentType, readonly ComponentVariant[]> = {\n  'navigation': ['ghost', 'soft'],\n  'action': ['solid', 'outline', 'soft'],\n  'action-destructive': ['solid', 'outline'],\n  'action-secondary': ['outline', 'ghost', 'soft'],\n  'status-info': ['soft', 'outline'],\n  'status-success': ['soft', 'outline'],\n  'status-warning': ['soft', 'outline'],\n  'status-error': ['soft', 'outline', 'solid'],\n  'data-entry': ['outline', 'soft'],\n  'data-display': ['ghost', 'soft'],\n  'feedback': ['soft', 'glass'],\n  'decoration': ['ghost', 'soft', 'gradient'],\n} as const;\n\n/**\n * Roles principales asociados a cada intencin.\n */\nconst INTENT_ROLES: Record<ComponentIntentType, readonly UIRoleType[]> = {\n  'navigation': ['text-secondary', 'icon', 'background'],\n  'action': ['accent', 'text-inverse', 'border'],\n  'action-destructive': ['accent', 'text-inverse'],\n  'action-secondary': ['border', 'text-primary'],\n  'status-info': ['accent-muted', 'text-primary', 'border'],\n  'status-success': ['accent-muted', 'text-primary', 'border'],\n  'status-warning': ['accent-muted', 'text-primary', 'border'],\n  'status-error': ['accent-muted', 'text-primary', 'border'],\n  'data-entry': ['border', 'text-primary', 'surface'],\n  'data-display': ['text-primary', 'text-secondary', 'surface'],\n  'feedback': ['surface-elevated', 'text-primary', 'shadow'],\n  'decoration': ['background', 'border-subtle'],\n} as const;\n\n/**\n * Estados relevantes por intencin.\n */\nconst INTENT_STATES: Record<ComponentIntentType, readonly (typeof UIState.prototype.value)[]> = {\n  'navigation': ['idle', 'hover', 'active', 'focus', 'disabled'],\n  'action': ['idle', 'hover', 'active', 'focus', 'disabled', 'loading'],\n  'action-destructive': ['idle', 'hover', 'active', 'focus', 'disabled', 'loading'],\n  'action-secondary': ['idle', 'hover', 'active', 'focus', 'disabled'],\n  'status-info': ['idle'],\n  'status-success': ['idle'],\n  'status-warning': ['idle'],\n  'status-error': ['idle', 'active'],\n  'data-entry': ['idle', 'focus', 'error', 'disabled'],\n  'data-display': ['idle'],\n  'feedback': ['idle', 'success', 'error', 'loading'],\n  'decoration': ['idle'],\n} as const;\n\n/**\n * Interactividad por intencin.\n */\ninterface IntentInteractivity {\n  readonly isInteractive: boolean;\n  readonly isFocusable: boolean;\n  readonly supportsKeyboard: boolean;\n  readonly requiresPointer: boolean;\n}\n\nconst INTENT_INTERACTIVITY: Record<ComponentIntentType, IntentInteractivity> = {\n  'navigation': {\n    isInteractive: true,\n    isFocusable: true,\n    supportsKeyboard: true,\n    requiresPointer: false,\n  },\n  'action': {\n    isInteractive: true,\n    isFocusable: true,\n    supportsKeyboard: true,\n    requiresPointer: false,\n  },\n  'action-destructive': {\n    isInteractive: true,\n    isFocusable: true,\n    supportsKeyboard: true,\n    requiresPointer: false,\n  },\n  'action-secondary': {\n    isInteractive: true,\n    isFocusable: true,\n    supportsKeyboard: true,\n    requiresPointer: false,\n  },\n  'status-info': {\n    isInteractive: false,\n    isFocusable: false,\n    supportsKeyboard: false,\n    requiresPointer: false,\n  },\n  'status-success': {\n    isInteractive: false,\n    isFocusable: false,\n    supportsKeyboard: false,\n    requiresPointer: false,\n  },\n  'status-warning': {\n    isInteractive: false,\n    isFocusable: false,\n    supportsKeyboard: false,\n    requiresPointer: false,\n  },\n  'status-error': {\n    isInteractive: false,\n    isFocusable: false,\n    supportsKeyboard: false,\n    requiresPointer: false,\n  },\n  'data-entry': {\n    isInteractive: true,\n    isFocusable: true,\n    supportsKeyboard: true,\n    requiresPointer: false,\n  },\n  'data-display': {\n    isInteractive: false,\n    isFocusable: false,\n    supportsKeyboard: false,\n    requiresPointer: false,\n  },\n  'feedback': {\n    isInteractive: false,\n    isFocusable: true,  // For accessibility\n    supportsKeyboard: true, // Dismiss with Escape\n    requiresPointer: false,\n  },\n  'decoration': {\n    isInteractive: false,\n    isFocusable: false,\n    supportsKeyboard: false,\n    requiresPointer: false,\n  },\n} as const;\n\n// ============================================================================\n// COMPONENT INTENT VALUE OBJECT\n// ============================================================================\n\n/**\n * ComponentIntent - Value Object para intencin de componente.\n *\n * Define el propsito semntico de un componente, lo que permite\n * al sistema de tokens generar estilos apropiados automticamente.\n *\n * @example\n * ```typescript\n * const actionIntent = ComponentIntent.action();\n * const navIntent = ComponentIntent.navigation();\n *\n * // Obtener metadatos\n * console.log(actionIntent.severity); // 'info'\n * console.log(actionIntent.recommendedVariants); // ['solid', 'outline', 'soft']\n *\n * // Verificar interactividad\n * console.log(actionIntent.isInteractive); // true\n *\n * // Roles asociados\n * console.log(actionIntent.primaryRoles); // ['accent', 'text-inverse', 'border']\n * ```\n */\nexport class ComponentIntent {\n  // \n  // PRIVATE STATE\n  // \n\n  private readonly _value: ComponentIntentType;\n\n  // \n  // CONSTRUCTOR (Private)\n  // \n\n  private constructor(value: ComponentIntentType) {\n    this._value = value;\n  }\n\n  // \n  // STATIC FACTORIES\n  // \n\n  /**\n   * Crea desde un string.\n   */\n  static from(value: string): Result<ComponentIntent, Error> {\n    if (!COMPONENT_INTENTS.includes(value as ComponentIntentType)) {\n      return failure(new Error(`Invalid component intent: ${value}`));\n    }\n    return success(new ComponentIntent(value as ComponentIntentType));\n  }\n\n  /**\n   * Crea sin validacin.\n   */\n  static of(value: ComponentIntentType): ComponentIntent {\n    return new ComponentIntent(value);\n  }\n\n  // Named constructors\n  static navigation(): ComponentIntent { return new ComponentIntent('navigation'); }\n  static action(): ComponentIntent { return new ComponentIntent('action'); }\n  static actionDestructive(): ComponentIntent { return new ComponentIntent('action-destructive'); }\n  static actionSecondary(): ComponentIntent { return new ComponentIntent('action-secondary'); }\n  static statusInfo(): ComponentIntent { return new ComponentIntent('status-info'); }\n  static statusSuccess(): ComponentIntent { return new ComponentIntent('status-success'); }\n  static statusWarning(): ComponentIntent { return new ComponentIntent('status-warning'); }\n  static statusError(): ComponentIntent { return new ComponentIntent('status-error'); }\n  static dataEntry(): ComponentIntent { return new ComponentIntent('data-entry'); }\n  static dataDisplay(): ComponentIntent { return new ComponentIntent('data-display'); }\n  static feedback(): ComponentIntent { return new ComponentIntent('feedback'); }\n  static decoration(): ComponentIntent { return new ComponentIntent('decoration'); }\n\n  /**\n   * Obtiene todas las intenciones.\n   */\n  static all(): readonly ComponentIntent[] {\n    return COMPONENT_INTENTS.map(i => new ComponentIntent(i));\n  }\n\n  /**\n   * Obtiene intenciones por categora.\n   */\n  static byCategory(category: IntentCategory): readonly ComponentIntent[] {\n    return COMPONENT_INTENTS\n      .filter(i => INTENT_CATEGORIES[i] === category)\n      .map(i => new ComponentIntent(i));\n  }\n\n  /**\n   * Crea intencin de status desde severidad.\n   */\n  static fromSeverity(severity: Severity): ComponentIntent {\n    switch (severity) {\n      case 'info': return ComponentIntent.statusInfo();\n      case 'success': return ComponentIntent.statusSuccess();\n      case 'warning': return ComponentIntent.statusWarning();\n      case 'error': return ComponentIntent.statusError();\n      case 'neutral': return ComponentIntent.dataDisplay();\n    }\n  }\n\n  // \n  // GETTERS\n  // \n\n  /**\n   * Valor de la intencin.\n   */\n  get value(): ComponentIntentType {\n    return this._value;\n  }\n\n  /**\n   * Categora de la intencin.\n   */\n  get category(): IntentCategory {\n    return INTENT_CATEGORIES[this._value];\n  }\n\n  /**\n   * Severidad asociada.\n   */\n  get severity(): Severity {\n    return INTENT_SEVERITY[this._value];\n  }\n\n  /**\n   * Variantes recomendadas.\n   */\n  get recommendedVariants(): readonly ComponentVariant[] {\n    return INTENT_VARIANTS[this._value];\n  }\n\n  /**\n   * Variante por defecto.\n   */\n  get defaultVariant(): ComponentVariant {\n    return INTENT_VARIANTS[this._value][0];\n  }\n\n  /**\n   * Roles primarios asociados.\n   */\n  get primaryRoles(): readonly UIRoleType[] {\n    return INTENT_ROLES[this._value];\n  }\n\n  /**\n   * Estados relevantes.\n   */\n  get relevantStates(): readonly (typeof UIState.prototype.value)[] {\n    return INTENT_STATES[this._value];\n  }\n\n  /**\n   * Informacin de interactividad.\n   */\n  get interactivity(): IntentInteractivity {\n    return INTENT_INTERACTIVITY[this._value];\n  }\n\n  // \n  // PREDICADOS\n  // \n\n  /**\n   * Es una accin.\n   */\n  get isAction(): boolean {\n    return this.category === 'action';\n  }\n\n  /**\n   * Es un estado/status.\n   */\n  get isStatus(): boolean {\n    return this.category === 'status';\n  }\n\n  /**\n   * Es navegacin.\n   */\n  get isNavigation(): boolean {\n    return this.category === 'navigation';\n  }\n\n  /**\n   * Es interactivo.\n   */\n  get isInteractive(): boolean {\n    return INTENT_INTERACTIVITY[this._value].isInteractive;\n  }\n\n  /**\n   * Es focusable.\n   */\n  get isFocusable(): boolean {\n    return INTENT_INTERACTIVITY[this._value].isFocusable;\n  }\n\n  /**\n   * Es destructivo.\n   */\n  get isDestructive(): boolean {\n    return this._value === 'action-destructive';\n  }\n\n  /**\n   * Requiere confirmacin (acciones peligrosas).\n   */\n  get requiresConfirmation(): boolean {\n    return this._value === 'action-destructive';\n  }\n\n  /**\n   * Soporta estado de carga.\n   */\n  get supportsLoading(): boolean {\n    return this.relevantStates.includes('loading');\n  }\n\n  /**\n   * Soporta estado de error.\n   */\n  get supportsError(): boolean {\n    return this.relevantStates.includes('error');\n  }\n\n  // \n  // MTODOS\n  // \n\n  /**\n   * Verifica si una variante es vlida para esta intencin.\n   */\n  supportsVariant(variant: ComponentVariant): boolean {\n    return this.recommendedVariants.includes(variant);\n  }\n\n  /**\n   * Verifica si un estado es relevante para esta intencin.\n   */\n  hasState(state: UIState): boolean {\n    return this.relevantStates.includes(state.value);\n  }\n\n  /**\n   * Obtiene los UIRoles como Value Objects.\n   */\n  getRoles(): readonly UIRole[] {\n    return this.primaryRoles.map(r => UIRole.of(r));\n  }\n\n  /**\n   * Obtiene los UIStates como Value Objects.\n   */\n  getStates(): readonly UIState[] {\n    return this.relevantStates.map(s => UIState.of(s));\n  }\n\n  // \n  // COMPARACIN\n  // \n\n  equals(other: ComponentIntent): boolean {\n    return this._value === other._value;\n  }\n\n  /**\n   * Verifica si comparten categora.\n   */\n  sameCategory(other: ComponentIntent): boolean {\n    return this.category === other.category;\n  }\n\n  /**\n   * Verifica si comparten severidad.\n   */\n  sameSeverity(other: ComponentIntent): boolean {\n    return this.severity === other.severity;\n  }\n\n  // \n  // SERIALIZACIN\n  // \n\n  toString(): string {\n    return this._value;\n  }\n\n  toJSON(): ComponentIntentType {\n    return this._value;\n  }\n\n  /**\n   * Genera un nombre de clase CSS.\n   */\n  toCssClass(): string {\n    return `intent-${this._value}`;\n  }\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default ComponentIntent;\n// COMPONENT_INTENTS and IntentCategory are exported inline; these are not:\nexport { INTENT_CATEGORIES, INTENT_SEVERITY, INTENT_VARIANTS };\nexport type { IntentInteractivity };\n","/**\n * @fileoverview UXDecision Entity\n *\n * Entidad que representa una decisin perceptual gobernada.\n * Es el resultado de Color Intelligence procesando una solicitud\n * de tokens para un componente.\n *\n * UXDecision es el contrato entre el dominio y la aplicacin:\n * - Contiene todos los tokens necesarios para un componente\n * - Incluye metadatos de accesibilidad\n * - Registra la procedencia y confianza de cada decisin\n * - Es auditable y trazable\n *\n * @module momoto-ui/domain/ux/entities/UXDecision\n * @version 1.0.0\n */\n\nimport type {\n  DecisionId,\n  PolicyId,\n} from '../../types/branded';\nimport { BrandConstructors } from '../../types/branded';\n\nimport type {\n  UIState as UIStateType,\n  UIRole as UIRoleType,\n  DecisionStatus,\n  AccessibilityMetadata,\n  GovernanceEvaluation,\n  AuditInfo,\n} from '../../types';\n\nimport { PerceptualColor } from '../../perceptual/value-objects/PerceptualColor';\nimport { UIState } from '../value-objects/UIState';\nimport { UIRole } from '../value-objects/UIRole';\nimport { ComponentIntent } from '../value-objects/ComponentIntent';\n\n// ============================================================================\n// INTERFACES\n// ============================================================================\n\n/**\n * Token individual dentro de una decisin.\n */\nexport interface DecisionToken {\n  readonly role: UIRoleType;\n  readonly state: UIStateType;\n  readonly color: PerceptualColor;\n  readonly cssValue: string;\n  readonly accessibility: AccessibilityMetadata;\n  readonly derivedFrom?: string;\n  readonly adjustedBy?: PolicyId;\n}\n\n/**\n * Solicitud de decisin de tokens.\n */\nexport interface TokenRequest {\n  readonly componentId: string;\n  readonly intent: ComponentIntent;\n  readonly brandColor: PerceptualColor;\n  readonly states: readonly UIState[];\n  readonly roles: readonly UIRole[];\n  readonly variant?: string;\n  readonly context?: Record<string, unknown>;\n}\n\n/**\n * Configuracin de decisin.\n */\nexport interface DecisionConfig {\n  readonly enforcementLevel: 'strict' | 'moderate' | 'lenient';\n  readonly accessibilityTarget: 'aa' | 'aaa' | 'apca-gold';\n  readonly allowOverrides: boolean;\n  readonly auditEnabled: boolean;\n}\n\n/**\n * Snapshot de una decisin para auditora.\n */\nexport interface DecisionSnapshot {\n  readonly id: DecisionId;\n  readonly timestamp: Date;\n  readonly request: TokenRequest;\n  readonly tokens: readonly DecisionToken[];\n  readonly governance: GovernanceEvaluation;\n  readonly config: DecisionConfig;\n}\n\n// ============================================================================\n// UX DECISION ENTITY\n// ============================================================================\n\n/**\n * UXDecision - Entidad que encapsula una decisin perceptual.\n *\n * Esta es la entidad central del sistema de tokens gobernado.\n * Cuando un componente necesita colores, no los define directamente.\n * En su lugar, solicita una UXDecision que contiene todos los tokens\n * necesarios, validados y gobernados.\n *\n * @example\n * ```typescript\n * // Crear una decisin para un botn\n * const decision = UXDecision.create({\n *   componentId: 'btn-primary',\n *   intent: ComponentIntent.action(),\n *   brandColor: PerceptualColor.fromHex('#0EB58C'),\n *   states: [UIState.idle(), UIState.hover(), UIState.active()],\n *   roles: [UIRole.accent(), UIRole.textInverse(), UIRole.border()],\n * });\n *\n * // Obtener token especfico\n * const hoverBg = decision.getToken('accent', 'hover');\n * console.log(hoverBg?.cssValue); // \"oklch(72.3% 0.18 164.5)\"\n *\n * // Verificar accesibilidad\n * console.log(decision.isFullyAccessible); // true\n *\n * // Exportar como variables CSS\n * const cssVars = decision.toCssVariables();\n * ```\n */\nexport class UXDecision {\n  // \n  // PRIVATE STATE\n  // \n\n  private readonly _id: DecisionId;\n  private readonly _request: TokenRequest;\n  private readonly _tokens: Map<string, DecisionToken>;\n  private readonly _governance: GovernanceEvaluation;\n  private readonly _config: DecisionConfig;\n  private readonly _createdAt: Date;\n  private _status: DecisionStatus;\n  private readonly _auditTrail: AuditInfo[];\n\n  // \n  // CONSTRUCTOR (Private)\n  // \n\n  private constructor(\n    id: DecisionId,\n    request: TokenRequest,\n    tokens: DecisionToken[],\n    governance: GovernanceEvaluation,\n    config: DecisionConfig\n  ) {\n    this._id = id;\n    this._request = request;\n    this._governance = governance;\n    this._config = config;\n    this._createdAt = new Date();\n    this._status = 'pending';\n    this._auditTrail = [];\n\n    // Indexar tokens por role+state\n    this._tokens = new Map();\n    for (const token of tokens) {\n      const key = this.tokenKey(token.role, token.state);\n      this._tokens.set(key, token);\n    }\n  }\n\n  // \n  // STATIC FACTORIES\n  // \n\n  /**\n   * Crea una nueva decisin.\n   * Nota: En produccin, esto delegara a Color Intelligence.\n   */\n  static create(\n    request: TokenRequest,\n    config: DecisionConfig = DEFAULT_CONFIG\n  ): UXDecision {\n    const id = BrandConstructors.decisionId();\n\n    // Generar tokens para cada combinacin state+role\n    const tokens = UXDecision.generateTokens(request);\n\n    // Evaluar gobernanza\n    const governance = UXDecision.evaluateGovernance(tokens, config);\n\n    return new UXDecision(id, request, tokens, governance, config);\n  }\n\n  /**\n   * Genera tokens para la solicitud.\n   * Esto es una implementacin simplificada - en produccin usara Color Intelligence.\n   */\n  private static generateTokens(request: TokenRequest): DecisionToken[] {\n    const tokens: DecisionToken[] = [];\n    const { brandColor, states, roles, intent } = request;\n\n    for (const state of states) {\n      for (const role of roles) {\n        // Generar color basado en rol, estado e intencin\n        const color = UXDecision.deriveColor(brandColor, role, state, intent);\n\n        // Calcular accesibilidad (simplificado)\n        const accessibility = UXDecision.calculateAccessibility(color, role);\n\n        tokens.push({\n          role: role.value,\n          state: state.value,\n          color,\n          cssValue: color.toCssOklch(),\n          accessibility,\n          derivedFrom: brandColor.hex,\n        });\n      }\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Deriva un color basado en rol, estado e intencin.\n   */\n  private static deriveColor(\n    brand: PerceptualColor,\n    role: UIRole,\n    state: UIState,\n    intent: ComponentIntent\n  ): PerceptualColor {\n    let color = brand;\n\n    // Ajustes por rol\n    switch (role.value) {\n      case 'accent':\n        // Mantener color de marca\n        break;\n      case 'text-inverse':\n        // Determinar si necesita texto claro u oscuro\n        const analysis = brand.analyze();\n        color = analysis.contrastMode === 'light-content'\n          ? PerceptualColor.fromOklch(0.98, 0, 0)  // Blanco\n          : PerceptualColor.fromOklch(0.15, 0, 0); // Negro\n        break;\n      case 'border':\n        color = brand.darken(0.1).desaturate(0.05);\n        break;\n      case 'background':\n        color = brand.lighten(0.4).desaturate(0.15);\n        break;\n      case 'surface':\n        color = PerceptualColor.fromOklch(0.98, 0.01, brand.hue);\n        break;\n      case 'text-primary':\n        color = PerceptualColor.fromOklch(0.2, 0.02, brand.hue);\n        break;\n      case 'text-secondary':\n        color = PerceptualColor.fromOklch(0.4, 0.02, brand.hue);\n        break;\n      case 'text-muted':\n        color = PerceptualColor.fromOklch(0.55, 0.01, brand.hue);\n        break;\n      case 'icon':\n        color = brand.desaturate(0.02);\n        break;\n      case 'accent-muted':\n        color = brand.withAlpha(0.15);\n        break;\n      case 'focus-ring':\n        color = brand.saturate(0.05).withAlpha(0.5);\n        break;\n      default:\n        break;\n    }\n\n    // Ajustes por estado\n    const metadata = state.metadata;\n    if (metadata.suggestedLightnessShift !== 0) {\n      color = metadata.suggestedLightnessShift > 0\n        ? color.lighten(Math.abs(metadata.suggestedLightnessShift))\n        : color.darken(Math.abs(metadata.suggestedLightnessShift));\n    }\n    if (metadata.suggestedChromaShift !== 0) {\n      color = metadata.suggestedChromaShift > 0\n        ? color.saturate(Math.abs(metadata.suggestedChromaShift))\n        : color.desaturate(Math.abs(metadata.suggestedChromaShift));\n    }\n    if (metadata.suggestedOpacity < 1) {\n      color = color.withAlpha(metadata.suggestedOpacity);\n    }\n\n    // Ajustes por intencin destructiva\n    if (intent.isDestructive && role.isAccent) {\n      // Cambiar a rojo\n      color = PerceptualColor.fromOklch(0.55, 0.22, 25); // Rojo accesible\n    }\n\n    return color;\n  }\n\n  /**\n   * Calcula metadatos de accesibilidad para un color.\n   */\n  private static calculateAccessibility(\n    color: PerceptualColor,\n    role: UIRole\n  ): AccessibilityMetadata {\n    // Simplificado - en produccin usara APCA de Color Intelligence\n    const l = color.lightness;\n\n    // Simular clculos APCA bsicos\n    const estimatedLc = Math.abs(l - 0.5) * 150;\n    const apcaLevel =\n      estimatedLc >= 90 ? 'excellent' :\n      estimatedLc >= 75 ? 'fluent' :\n      estimatedLc >= 60 ? 'body' :\n      estimatedLc >= 45 ? 'large' :\n      estimatedLc >= 30 ? 'spot' :\n      estimatedLc >= 15 ? 'minimum' : 'fail';\n\n    const meetsRequirement = (() => {\n      const required = role.minApcaLevel;\n      const levels = ['fail', 'minimum', 'spot', 'large', 'body', 'fluent', 'excellent'];\n      return levels.indexOf(apcaLevel) >= levels.indexOf(required);\n    })();\n\n    return {\n      wcagLevel: estimatedLc >= 70 ? 'AAA' : estimatedLc >= 45 ? 'AA' : 'Fail',\n      wcag3Tier: estimatedLc >= 90 ? 'Platinum' :\n                 estimatedLc >= 75 ? 'Gold' :\n                 estimatedLc >= 60 ? 'Silver' :\n                 estimatedLc >= 45 ? 'Bronze' : 'Fail',\n      apcaLc: estimatedLc,\n      apcaLevel,\n      contrastRatio: Math.min(21, Math.max(1, estimatedLc / 5)),\n      meetsRequirement,\n    };\n  }\n\n  /**\n   * Evala gobernanza de tokens.\n   */\n  private static evaluateGovernance(\n    tokens: DecisionToken[],\n    config: DecisionConfig\n  ): GovernanceEvaluation {\n    const violations = [];\n    const warnings = [];\n\n    for (const token of tokens) {\n      if (!token.accessibility.meetsRequirement) {\n        if (config.enforcementLevel === 'strict') {\n          violations.push({\n            id: BrandConstructors.violationId(),\n            policyId: 'apca-minimum',\n            policyName: 'APCA Minimum Contrast',\n            severity: 'error' as const,\n            message: `Token ${token.role}/${token.state} does not meet APCA requirements`,\n            affectedTokens: [`${token.role}-${token.state}`],\n            suggestedFix: 'Increase contrast by adjusting lightness',\n          });\n        } else {\n          warnings.push({\n            id: BrandConstructors.violationId(),\n            policyId: 'apca-minimum',\n            policyName: 'APCA Minimum Contrast',\n            severity: 'warning' as const,\n            message: `Token ${token.role}/${token.state} has suboptimal contrast`,\n            affectedTokens: [`${token.role}-${token.state}`],\n          });\n        }\n      }\n    }\n\n    const isCompliant = violations.length === 0;\n    const score = Math.max(0, 100 - violations.length * 20 - warnings.length * 5);\n\n    return {\n      isCompliant,\n      score,\n      violations,\n      warnings,\n      appliedAdjustments: [],\n      timestamp: new Date(),\n    };\n  }\n\n  // \n  // GETTERS\n  // \n\n  /**\n   * ID nico de la decisin.\n   */\n  get id(): DecisionId {\n    return this._id;\n  }\n\n  /**\n   * Solicitud original.\n   */\n  get request(): TokenRequest {\n    return this._request;\n  }\n\n  /**\n   * Evaluacin de gobernanza.\n   */\n  get governance(): GovernanceEvaluation {\n    return this._governance;\n  }\n\n  /**\n   * Configuracin aplicada.\n   */\n  get config(): DecisionConfig {\n    return this._config;\n  }\n\n  /**\n   * Estado actual de la decisin.\n   */\n  get status(): DecisionStatus {\n    return this._status;\n  }\n\n  /**\n   * Fecha de creacin.\n   */\n  get createdAt(): Date {\n    return this._createdAt;\n  }\n\n  /**\n   * Trail de auditora.\n   */\n  get auditTrail(): readonly AuditInfo[] {\n    return [...this._auditTrail];\n  }\n\n  /**\n   * Todos los tokens.\n   */\n  get tokens(): readonly DecisionToken[] {\n    return Array.from(this._tokens.values());\n  }\n\n  /**\n   * Nmero de tokens.\n   */\n  get tokenCount(): number {\n    return this._tokens.size;\n  }\n\n  // \n  // PREDICADOS\n  // \n\n  /**\n   * Verifica si la decisin es compliant.\n   */\n  get isCompliant(): boolean {\n    return this._governance.isCompliant;\n  }\n\n  /**\n   * Verifica si todos los tokens son accesibles.\n   */\n  get isFullyAccessible(): boolean {\n    return this.tokens.every(t => t.accessibility.meetsRequirement);\n  }\n\n  /**\n   * Verifica si tiene advertencias.\n   */\n  get hasWarnings(): boolean {\n    return this._governance.warnings.length > 0;\n  }\n\n  /**\n   * Verifica si fue aplicada.\n   */\n  get isApplied(): boolean {\n    return this._status === 'applied';\n  }\n\n  // \n  // MTODOS DE ACCESO A TOKENS\n  // \n\n  /**\n   * Genera la clave para un token.\n   */\n  private tokenKey(role: UIRoleType, state: UIStateType): string {\n    return `${role}::${state}`;\n  }\n\n  /**\n   * Obtiene un token especfico.\n   */\n  getToken(role: UIRoleType, state: UIStateType): DecisionToken | undefined {\n    return this._tokens.get(this.tokenKey(role, state));\n  }\n\n  /**\n   * Obtiene tokens por rol.\n   */\n  getTokensByRole(role: UIRoleType): DecisionToken[] {\n    return this.tokens.filter(t => t.role === role);\n  }\n\n  /**\n   * Obtiene tokens por estado.\n   */\n  getTokensByState(state: UIStateType): DecisionToken[] {\n    return this.tokens.filter(t => t.state === state);\n  }\n\n  /**\n   * Obtiene el color CSS para un rol y estado.\n   */\n  getCssValue(role: UIRoleType, state: UIStateType): string | undefined {\n    return this.getToken(role, state)?.cssValue;\n  }\n\n  /**\n   * Obtiene todos los tokens para un estado como mapa de roles.\n   */\n  getStateTokens(state: UIStateType): Map<UIRoleType, string> {\n    const result = new Map<UIRoleType, string>();\n    for (const token of this.getTokensByState(state)) {\n      result.set(token.role, token.cssValue);\n    }\n    return result;\n  }\n\n  // \n  // MUTADORES (con auditora)\n  // \n\n  /**\n   * Marca la decisin como aplicada.\n   */\n  markApplied(): void {\n    if (this._status === 'applied') return;\n\n    const previousStatus = this._status;\n    this._status = 'applied';\n\n    if (this._config.auditEnabled) {\n      this._auditTrail.push({\n        id: BrandConstructors.auditId(),\n        timestamp: new Date(),\n        action: 'status_change',\n        source: 'component-default',\n        details: { from: previousStatus, to: 'applied' },\n        previousValue: previousStatus,\n        newValue: 'applied',\n      });\n    }\n  }\n\n  /**\n   * Rechaza la decisin.\n   */\n  reject(reason: string): void {\n    this._status = 'rejected';\n\n    if (this._config.auditEnabled) {\n      this._auditTrail.push({\n        id: BrandConstructors.auditId(),\n        timestamp: new Date(),\n        action: 'rejected',\n        source: 'user-override',\n        details: { reason },\n        previousValue: this._status,\n        newValue: 'rejected',\n      });\n    }\n  }\n\n  // \n  // EXPORTACIN\n  // \n\n  /**\n   * Exporta como variables CSS.\n   */\n  toCssVariables(prefix = 'ux'): Record<string, string> {\n    const vars: Record<string, string> = {};\n\n    for (const token of this.tokens) {\n      const varName = `--${prefix}-${token.role}-${token.state}`;\n      vars[varName] = token.cssValue;\n    }\n\n    return vars;\n  }\n\n  /**\n   * Exporta como string CSS.\n   */\n  toCssString(prefix = 'ux', selector = ':root'): string {\n    const vars = this.toCssVariables(prefix);\n    const lines = Object.entries(vars).map(([k, v]) => `  ${k}: ${v};`);\n    return `${selector} {\\n${lines.join('\\n')}\\n}`;\n  }\n\n  /**\n   * Exporta como design tokens (W3C DTCG format).\n   */\n  toDesignTokens(): Record<string, unknown> {\n    const tokens: Record<string, unknown> = {};\n\n    for (const token of this.tokens) {\n      const path = `${token.role}.${token.state}`;\n      tokens[path] = {\n        $type: 'color',\n        $value: token.cssValue,\n        $description: `${token.role} color for ${token.state} state`,\n        $extensions: {\n          'momoto-ui': {\n            role: token.role,\n            state: token.state,\n            accessibility: token.accessibility,\n          },\n        },\n      };\n    }\n\n    return {\n      color: tokens,\n    };\n  }\n\n  /**\n   * Crea un snapshot para auditora.\n   */\n  toSnapshot(): DecisionSnapshot {\n    return {\n      id: this._id,\n      timestamp: this._createdAt,\n      request: this._request,\n      tokens: this.tokens,\n      governance: this._governance,\n      config: this._config,\n    };\n  }\n\n  // \n  // SERIALIZACIN\n  // \n\n  toJSON(): Record<string, unknown> {\n    return {\n      id: this._id,\n      request: {\n        componentId: this._request.componentId,\n        intent: this._request.intent.value,\n        brandColor: this._request.brandColor.hex,\n        states: this._request.states.map(s => s.value),\n        roles: this._request.roles.map(r => r.value),\n      },\n      tokens: this.tokens.map(t => ({\n        role: t.role,\n        state: t.state,\n        cssValue: t.cssValue,\n        accessibility: t.accessibility,\n      })),\n      governance: this._governance,\n      status: this._status,\n      createdAt: this._createdAt.toISOString(),\n    };\n  }\n}\n\n// ============================================================================\n// DEFAULTS\n// ============================================================================\n\nconst DEFAULT_CONFIG: DecisionConfig = {\n  enforcementLevel: 'moderate',\n  accessibilityTarget: 'aaa',\n  allowOverrides: true,\n  auditEnabled: true,\n};\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default UXDecision;\nexport { DEFAULT_CONFIG };\n","/**\n * @fileoverview DesignToken Value Object\n *\n * Value Object inmutable que representa un token de diseo individual.\n * Sigue el estndar W3C Design Tokens Community Group (DTCG).\n *\n * @module momoto-ui/domain/tokens/value-objects/DesignToken\n * @version 1.0.0\n */\n\nimport type {\n  UIRole as UIRoleType,\n  UIState as UIStateType,\n  ComponentIntent as ComponentIntentType,\n  Result,\n} from '../../types';\nimport { success, failure } from '../../types';\nimport { PerceptualColor } from '../../perceptual/value-objects/PerceptualColor';\nimport { UIState } from '../../ux/value-objects/UIState';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\n/**\n * Tipo de token segn DTCG.\n */\nexport type TokenType =\n  | 'color'\n  | 'dimension'\n  | 'fontFamily'\n  | 'fontWeight'\n  | 'duration'\n  | 'cubicBezier'\n  | 'shadow'\n  | 'gradient'\n  | 'typography'\n  | 'border'\n  | 'transition'\n  | 'composite';\n\n/**\n * Categora semntica del token.\n */\nexport type TokenCategory =\n  | 'primitive'    // Valores base sin semntica\n  | 'semantic'     // Valores con significado de UI\n  | 'component'    // Valores especficos de componente\n  | 'state';       // Valores de estado de interaccin\n\n/**\n * Metadatos de trazabilidad del token.\n */\nexport interface TokenProvenance {\n  readonly derivedFrom?: string;        // Token del que se deriv\n  readonly transformations: string[];   // Transformaciones aplicadas\n  readonly createdAt: Date;\n  readonly version: string;\n  readonly generator: string;\n}\n\n/**\n * Contexto de uso del token.\n */\nexport interface TokenContext {\n  readonly role?: UIRoleType;\n  readonly state?: UIStateType;\n  readonly intent?: ComponentIntentType;\n  readonly component?: string;\n  readonly variant?: string;\n}\n\n/**\n * Valor del token segn tipo.\n */\nexport type TokenValue =\n  | ColorTokenValue\n  | DimensionTokenValue\n  | ShadowTokenValue\n  | GradientTokenValue\n  | CompositeTokenValue;\n\nexport interface ColorTokenValue {\n  readonly type: 'color';\n  readonly value: string;           // Hex o CSS color\n  readonly perceptual?: {\n    readonly oklch: { l: number; c: number; h: number };\n    readonly apca?: number;\n    readonly wcagRatio?: number;\n  };\n}\n\nexport interface DimensionTokenValue {\n  readonly type: 'dimension';\n  readonly value: number;\n  readonly unit: 'px' | 'rem' | 'em' | '%' | 'vw' | 'vh';\n}\n\nexport interface ShadowTokenValue {\n  readonly type: 'shadow';\n  readonly value: {\n    readonly offsetX: number;\n    readonly offsetY: number;\n    readonly blur: number;\n    readonly spread: number;\n    readonly color: string;\n    readonly inset?: boolean;\n  }[];\n}\n\nexport interface GradientTokenValue {\n  readonly type: 'gradient';\n  readonly value: {\n    readonly type: 'linear' | 'radial' | 'conic';\n    readonly angle?: number;\n    readonly stops: Array<{ color: string; position: number }>;\n  };\n}\n\nexport interface CompositeTokenValue {\n  readonly type: 'composite';\n  readonly value: Record<string, TokenValue>;\n}\n\n/**\n * Formato W3C DTCG para exportacin.\n */\nexport interface W3CDesignToken {\n  readonly $value: unknown;\n  readonly $type: string;\n  readonly $description?: string;\n  readonly $extensions?: Record<string, unknown>;\n}\n\n// ============================================================================\n// DESIGN TOKEN VALUE OBJECT\n// ============================================================================\n\n/**\n * DesignToken - Value Object para tokens de diseo.\n *\n * Representa un token de diseo inmutable con toda su metadata,\n * trazabilidad y capacidad de exportacin a mltiples formatos.\n *\n * @example\n * ```typescript\n * // Crear token de color\n * const buttonBg = DesignToken.color(\n *   'button.primary.background',\n *   PerceptualColor.fromHex('#3B82F6').value!,\n *   {\n *     role: 'accent',\n *     state: 'idle',\n *     intent: 'action',\n *     component: 'button',\n *     variant: 'primary'\n *   }\n * );\n *\n * // Exportar a CSS\n * console.log(buttonBg.toCssVariable());\n * // --button-primary-background: #3B82F6;\n *\n * // Exportar a W3C format\n * console.log(buttonBg.toW3C());\n * ```\n */\nexport class DesignToken {\n  // \n  // PRIVATE STATE\n  // \n\n  private readonly _name: string;\n  private readonly _value: TokenValue;\n  private readonly _category: TokenCategory;\n  private readonly _description: string;\n  private readonly _context: TokenContext;\n  private readonly _provenance: TokenProvenance;\n  private readonly _deprecated: boolean;\n  private readonly _deprecationMessage?: string;\n\n  // \n  // CONSTRUCTOR (Private)\n  // \n\n  private constructor(\n    name: string,\n    value: TokenValue,\n    category: TokenCategory,\n    description: string,\n    context: TokenContext,\n    provenance: TokenProvenance,\n    deprecated: boolean = false,\n    deprecationMessage?: string\n  ) {\n    this._name = name;\n    this._value = value;\n    this._category = category;\n    this._description = description;\n    this._context = context;\n    this._provenance = provenance;\n    this._deprecated = deprecated;\n    this._deprecationMessage = deprecationMessage;\n  }\n\n  // \n  // STATIC FACTORIES\n  // \n\n  /**\n   * Crea un token de color desde PerceptualColor.\n   */\n  static color(\n    name: string,\n    color: PerceptualColor,\n    context: TokenContext = {},\n    description: string = ''\n  ): DesignToken {\n    const coords = color.oklch;\n    const value: ColorTokenValue = {\n      type: 'color',\n      value: color.hex,\n      perceptual: {\n        oklch: { l: coords.l, c: coords.c, h: coords.h },\n      },\n    };\n\n    return new DesignToken(\n      name,\n      value,\n      DesignToken.inferCategory(context),\n      description,\n      context,\n      DesignToken.createProvenance()\n    );\n  }\n\n  /**\n   * Crea un token de color desde hex string.\n   */\n  static colorFromHex(\n    name: string,\n    hex: string,\n    context: TokenContext = {},\n    description: string = ''\n  ): Result<DesignToken, Error> {\n    const colorResult = PerceptualColor.tryFromHex(hex);\n    if (!colorResult.success) {\n      return failure(colorResult.error);\n    }\n    return success(DesignToken.color(name, colorResult.value, context, description));\n  }\n\n  /**\n   * Crea un token de dimensin.\n   */\n  static dimension(\n    name: string,\n    value: number,\n    unit: DimensionTokenValue['unit'],\n    context: TokenContext = {},\n    description: string = ''\n  ): DesignToken {\n    const tokenValue: DimensionTokenValue = {\n      type: 'dimension',\n      value,\n      unit,\n    };\n\n    return new DesignToken(\n      name,\n      tokenValue,\n      DesignToken.inferCategory(context),\n      description,\n      context,\n      DesignToken.createProvenance()\n    );\n  }\n\n  /**\n   * Crea un token de sombra.\n   */\n  static shadow(\n    name: string,\n    shadows: ShadowTokenValue['value'],\n    context: TokenContext = {},\n    description: string = ''\n  ): DesignToken {\n    const value: ShadowTokenValue = {\n      type: 'shadow',\n      value: shadows,\n    };\n\n    return new DesignToken(\n      name,\n      value,\n      DesignToken.inferCategory(context),\n      description,\n      context,\n      DesignToken.createProvenance()\n    );\n  }\n\n  /**\n   * Crea un token de gradiente.\n   */\n  static gradient(\n    name: string,\n    gradientDef: GradientTokenValue['value'],\n    context: TokenContext = {},\n    description: string = ''\n  ): DesignToken {\n    const value: GradientTokenValue = {\n      type: 'gradient',\n      value: gradientDef,\n    };\n\n    return new DesignToken(\n      name,\n      value,\n      DesignToken.inferCategory(context),\n      description,\n      context,\n      DesignToken.createProvenance()\n    );\n  }\n\n  /**\n   * Crea un token compuesto.\n   */\n  static composite(\n    name: string,\n    values: Record<string, TokenValue>,\n    context: TokenContext = {},\n    description: string = ''\n  ): DesignToken {\n    const value: CompositeTokenValue = {\n      type: 'composite',\n      value: values,\n    };\n\n    return new DesignToken(\n      name,\n      value,\n      DesignToken.inferCategory(context),\n      description,\n      context,\n      DesignToken.createProvenance()\n    );\n  }\n\n  /**\n   * Infiere categora desde contexto.\n   */\n  private static inferCategory(context: TokenContext): TokenCategory {\n    if (context.state) return 'state';\n    if (context.component) return 'component';\n    if (context.role || context.intent) return 'semantic';\n    return 'primitive';\n  }\n\n  /**\n   * Crea provenance inicial.\n   */\n  private static createProvenance(derivedFrom?: string): TokenProvenance {\n    return {\n      derivedFrom,\n      transformations: [],\n      createdAt: new Date(),\n      version: '1.0.0',\n      generator: 'momoto-ui/domain',\n    };\n  }\n\n  // \n  // GETTERS\n  // \n\n  get name(): string { return this._name; }\n  get value(): TokenValue { return this._value; }\n  get type(): TokenType { return this._value.type; }\n  get category(): TokenCategory { return this._category; }\n  get description(): string { return this._description; }\n  get context(): TokenContext { return this._context; }\n  get provenance(): TokenProvenance { return this._provenance; }\n  get deprecated(): boolean { return this._deprecated; }\n  get deprecationMessage(): string | undefined { return this._deprecationMessage; }\n\n  /**\n   * Nombre como variable CSS.\n   */\n  get cssVariableName(): string {\n    return `--${this._name.replace(/\\./g, '-')}`;\n  }\n\n  /**\n   * Path jerrquico.\n   */\n  get path(): string[] {\n    return this._name.split('.');\n  }\n\n  /**\n   * Namespace (primer segmento del path).\n   */\n  get namespace(): string {\n    return this.path[0] || '';\n  }\n\n  // \n  // PREDICADOS\n  // \n\n  get isColor(): boolean { return this._value.type === 'color'; }\n  get isDimension(): boolean { return this._value.type === 'dimension'; }\n  get isShadow(): boolean { return this._value.type === 'shadow'; }\n  get isGradient(): boolean { return this._value.type === 'gradient'; }\n  get isComposite(): boolean { return this._value.type === 'composite'; }\n\n  get isPrimitive(): boolean { return this._category === 'primitive'; }\n  get isSemantic(): boolean { return this._category === 'semantic'; }\n  get isComponent(): boolean { return this._category === 'component'; }\n  get isState(): boolean { return this._category === 'state'; }\n\n  // \n  // TRANSFORMACIONES (Inmutables)\n  // \n\n  /**\n   * Crea copia con nuevo nombre.\n   */\n  rename(newName: string): DesignToken {\n    return new DesignToken(\n      newName,\n      this._value,\n      this._category,\n      this._description,\n      this._context,\n      this.addTransformation(`renamed from ${this._name}`),\n      this._deprecated,\n      this._deprecationMessage\n    );\n  }\n\n  /**\n   * Crea copia con nueva descripcin.\n   */\n  describe(description: string): DesignToken {\n    return new DesignToken(\n      this._name,\n      this._value,\n      this._category,\n      description,\n      this._context,\n      this._provenance,\n      this._deprecated,\n      this._deprecationMessage\n    );\n  }\n\n  /**\n   * Marca como deprecado.\n   */\n  deprecate(message: string): DesignToken {\n    return new DesignToken(\n      this._name,\n      this._value,\n      this._category,\n      this._description,\n      this._context,\n      this._provenance,\n      true,\n      message\n    );\n  }\n\n  /**\n   * Crea copia con contexto adicional.\n   */\n  withContext(additionalContext: Partial<TokenContext>): DesignToken {\n    return new DesignToken(\n      this._name,\n      this._value,\n      DesignToken.inferCategory({ ...this._context, ...additionalContext }),\n      this._description,\n      { ...this._context, ...additionalContext },\n      this.addTransformation('context updated'),\n      this._deprecated,\n      this._deprecationMessage\n    );\n  }\n\n  /**\n   * Deriva un token de estado desde este token.\n   */\n  deriveState(state: UIState, color: PerceptualColor): DesignToken {\n    if (this._value.type !== 'color') {\n      throw new Error('Can only derive state from color tokens');\n    }\n\n    const stateSuffix = state.value;\n    const newName = `${this._name}.${stateSuffix}`;\n\n    return DesignToken.color(\n      newName,\n      color,\n      { ...this._context, state: state.value },\n      `${this._description} - ${stateSuffix} state`\n    );\n  }\n\n  /**\n   * Agrega transformacin al provenance.\n   */\n  private addTransformation(transformation: string): TokenProvenance {\n    return {\n      ...this._provenance,\n      transformations: [...this._provenance.transformations, transformation],\n    };\n  }\n\n  // \n  // EXPORTACIN\n  // \n\n  /**\n   * Exporta a variable CSS.\n   */\n  toCssVariable(): string {\n    return `${this.cssVariableName}: ${this.toCssValue()};`;\n  }\n\n  /**\n   * Exporta a valor CSS.\n   */\n  toCssValue(): string {\n    switch (this._value.type) {\n      case 'color':\n        return this._value.value;\n\n      case 'dimension':\n        return `${this._value.value}${this._value.unit}`;\n\n      case 'shadow':\n        return this._value.value\n          .map(s =>\n            `${s.inset ? 'inset ' : ''}${s.offsetX}px ${s.offsetY}px ${s.blur}px ${s.spread}px ${s.color}`\n          )\n          .join(', ');\n\n      case 'gradient': {\n        const g = this._value.value;\n        const stops = g.stops.map(s => `${s.color} ${s.position * 100}%`).join(', ');\n        if (g.type === 'linear') {\n          return `linear-gradient(${g.angle ?? 180}deg, ${stops})`;\n        } else if (g.type === 'radial') {\n          return `radial-gradient(${stops})`;\n        } else {\n          return `conic-gradient(${stops})`;\n        }\n      }\n\n      case 'composite':\n        // Composite tokens no tienen valor CSS directo\n        return '';\n    }\n  }\n\n  /**\n   * Exporta a formato W3C DTCG.\n   */\n  toW3C(): W3CDesignToken {\n    const base: W3CDesignToken = {\n      $value: this.getW3CValue(),\n      $type: this.getW3CType(),\n      $description: this._description || undefined,\n      $extensions: {\n        'com.momoto-ui': {\n          category: this._category,\n          context: this._context,\n          provenance: {\n            derivedFrom: this._provenance.derivedFrom,\n            generator: this._provenance.generator,\n            version: this._provenance.version,\n          },\n          deprecated: this._deprecated ? {\n            message: this._deprecationMessage,\n          } : undefined,\n        },\n      },\n    };\n\n    return base;\n  }\n\n  /**\n   * Obtiene valor en formato W3C.\n   */\n  private getW3CValue(): unknown {\n    switch (this._value.type) {\n      case 'color':\n        return this._value.value;\n\n      case 'dimension':\n        return `${this._value.value}${this._value.unit}`;\n\n      case 'shadow':\n        return this._value.value.map(s => ({\n          offsetX: `${s.offsetX}px`,\n          offsetY: `${s.offsetY}px`,\n          blur: `${s.blur}px`,\n          spread: `${s.spread}px`,\n          color: s.color,\n          inset: s.inset,\n        }));\n\n      case 'gradient':\n        return this._value.value;\n\n      case 'composite':\n        return this._value.value;\n    }\n  }\n\n  /**\n   * Obtiene tipo W3C.\n   */\n  private getW3CType(): string {\n    return this._value.type;\n  }\n\n  /**\n   * Exporta a formato Tailwind.\n   */\n  toTailwindConfig(): { key: string; value: string } {\n    // Convierte \"button.primary.background\" a \"button-primary-background\"\n    const key = this._name.replace(/\\./g, '-');\n    return { key, value: this.toCssValue() };\n  }\n\n  // \n  // COMPARACIN\n  // \n\n  /**\n   * Verifica igualdad estructural.\n   */\n  equals(other: DesignToken): boolean {\n    return this._name === other._name &&\n           JSON.stringify(this._value) === JSON.stringify(other._value);\n  }\n\n  /**\n   * Verifica si es del mismo tipo.\n   */\n  sameType(other: DesignToken): boolean {\n    return this._value.type === other._value.type;\n  }\n\n  /**\n   * Verifica si comparten namespace.\n   */\n  sameNamespace(other: DesignToken): boolean {\n    return this.namespace === other.namespace;\n  }\n\n  // \n  // SERIALIZACIN\n  // \n\n  toString(): string {\n    return `${this._name}: ${this.toCssValue()}`;\n  }\n\n  toJSON(): object {\n    return {\n      name: this._name,\n      value: this._value,\n      category: this._category,\n      description: this._description,\n      context: this._context,\n      provenance: {\n        ...this._provenance,\n        createdAt: this._provenance.createdAt.toISOString(),\n      },\n      deprecated: this._deprecated,\n      deprecationMessage: this._deprecationMessage,\n    };\n  }\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default DesignToken;\n","/**\n * @fileoverview TokenCollection Entity (Immutable)\n *\n * Entidad INMUTABLE que representa una coleccin organizada de Design Tokens.\n * Proporciona operaciones de consulta, filtrado, agrupacin y exportacin.\n *\n * Todas las operaciones de modificacin retornan una NUEVA instancia,\n * preservando la inmutabilidad requerida por DDD.\n *\n * @module momoto-ui/domain/tokens/entities/TokenCollection\n * @version 2.0.0\n */\n\nimport type { Result, UIRole as UIRoleType, UIState as UIStateType } from '../../types';\nimport { success, failure } from '../../types';\nimport {\n  DesignToken,\n  TokenCategory,\n  TokenType,\n} from '../value-objects/DesignToken';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\n/**\n * Filtro para bsqueda de tokens.\n */\nexport interface TokenFilter {\n  readonly name?: string | RegExp;\n  readonly type?: TokenType;\n  readonly category?: TokenCategory;\n  readonly namespace?: string;\n  readonly role?: UIRoleType;\n  readonly state?: UIStateType;\n  readonly component?: string;\n  readonly includeDeprecated?: boolean;\n}\n\n/**\n * Opciones de exportacin.\n */\nexport interface ExportOptions {\n  readonly format: 'css' | 'scss' | 'json' | 'w3c' | 'tailwind' | 'figma';\n  readonly includeMetadata?: boolean;\n  readonly includeDeprecated?: boolean;\n  readonly prefix?: string;\n  readonly indent?: number;\n}\n\n/**\n * Estructura jerrquica de tokens.\n */\nexport interface TokenHierarchy {\n  [key: string]: TokenHierarchy | DesignToken;\n}\n\n/**\n * Estadsticas de la coleccin.\n */\nexport interface CollectionStats {\n  readonly totalTokens: number;\n  readonly byType: Readonly<Record<TokenType, number>>;\n  readonly byCategory: Readonly<Record<TokenCategory, number>>;\n  readonly byNamespace: Readonly<Record<string, number>>;\n  readonly deprecatedCount: number;\n  readonly uniqueColors: number;\n}\n\n/**\n * Resultado de validacin.\n */\nexport interface ValidationResult {\n  readonly valid: boolean;\n  readonly errors: readonly ValidationError[];\n  readonly warnings: readonly ValidationWarning[];\n}\n\nexport interface ValidationError {\n  readonly tokenName: string;\n  readonly code: string;\n  readonly message: string;\n}\n\nexport interface ValidationWarning {\n  readonly tokenName: string;\n  readonly code: string;\n  readonly message: string;\n}\n\n/**\n * Opciones para crear una coleccin.\n */\nexport interface TokenCollectionOptions {\n  readonly name: string;\n  readonly description?: string;\n  readonly version?: string;\n}\n\n// ============================================================================\n// TOKEN COLLECTION ENTITY (IMMUTABLE)\n// ============================================================================\n\n/**\n * TokenCollection - Entidad INMUTABLE para gestin de colecciones de tokens.\n *\n * IMPORTANTE: Todas las operaciones de modificacin retornan una NUEVA instancia.\n * La instancia original nunca se modifica.\n *\n * Proporciona operaciones avanzadas sobre conjuntos de tokens:\n * - Consultas y filtrado\n * - Agrupacin y organizacin\n * - Exportacin a mltiples formatos\n * - Validacin y auditora\n *\n * @example\n * ```typescript\n * // Crear coleccin (inmutable)\n * const collection = TokenCollection.create({ name: 'brand' })\n *   .add(buttonBgToken)\n *   .add(buttonTextToken)\n *   .addAll(stateTokens);\n *\n * // Cada operacin retorna nueva instancia\n * const updated = collection.add(newToken);\n * console.log(collection === updated); // false\n *\n * // Filtrar (no modifica)\n * const colorTokens = collection.filter({ type: 'color' });\n *\n * // Exportar a CSS\n * console.log(collection.export({ format: 'css' }));\n *\n * // Validar\n * const result = collection.validate();\n * ```\n */\nexport class TokenCollection {\n  // \n  // PRIVATE READONLY STATE\n  // \n\n  private readonly _name: string;\n  private readonly _description: string;\n  private readonly _version: string;\n  private readonly _tokens: ReadonlyMap<string, DesignToken>;\n  private readonly _createdAt: Date;\n  private readonly _updatedAt: Date;\n\n  // \n  // PRIVATE CONSTRUCTOR (use static factories)\n  // \n\n  private constructor(\n    name: string,\n    description: string,\n    version: string,\n    tokens: ReadonlyMap<string, DesignToken>,\n    createdAt: Date,\n    updatedAt: Date\n  ) {\n    this._name = name;\n    this._description = description;\n    this._version = version;\n    this._tokens = tokens;\n    this._createdAt = createdAt;\n    this._updatedAt = updatedAt;\n\n    // Freeze para prevenir modificaciones accidentales\n    Object.freeze(this);\n  }\n\n  // \n  // STATIC FACTORIES\n  // \n\n  /**\n   * Crea una nueva coleccin vaca.\n   * @param optionsOrName - Options object o simplemente el nombre.\n   */\n  static create(optionsOrName: TokenCollectionOptions | string): TokenCollection {\n    const options: TokenCollectionOptions = typeof optionsOrName === 'string'\n      ? { name: optionsOrName }\n      : optionsOrName;\n    const now = new Date();\n    return new TokenCollection(\n      options.name,\n      options.description ?? '',\n      options.version ?? '1.0.0',\n      new Map(),\n      now,\n      now\n    );\n  }\n\n  /**\n   * Crea coleccin vaca (alias de create).\n   */\n  static empty(name: string): TokenCollection {\n    return TokenCollection.create({ name });\n  }\n\n  /**\n   * Crea coleccin desde array de tokens.\n   */\n  static from(\n    name: string,\n    tokens: readonly DesignToken[],\n    description: string = ''\n  ): TokenCollection {\n    const tokenMap = new Map<string, DesignToken>();\n    for (const token of tokens) {\n      tokenMap.set(token.name, token);\n    }\n    const now = new Date();\n    return new TokenCollection(name, description, '1.0.0', tokenMap, now, now);\n  }\n\n  /**\n   * Merge mltiples colecciones en una nueva.\n   */\n  static merge(\n    name: string,\n    collections: readonly TokenCollection[]\n  ): TokenCollection {\n    const tokenMap = new Map<string, DesignToken>();\n    for (const collection of collections) {\n      for (const token of collection.all()) {\n        tokenMap.set(token.name, token);\n      }\n    }\n    const now = new Date();\n    return new TokenCollection(name, '', '1.0.0', tokenMap, now, now);\n  }\n\n  // \n  // GETTERS (readonly access)\n  // \n\n  get name(): string { return this._name; }\n  get description(): string { return this._description; }\n  get version(): string { return this._version; }\n  get size(): number { return this._tokens.size; }\n  get isEmpty(): boolean { return this._tokens.size === 0; }\n  get createdAt(): Date { return new Date(this._createdAt.getTime()); }\n  get updatedAt(): Date { return new Date(this._updatedAt.getTime()); }\n\n  /**\n   * Obtiene todos los namespaces nicos.\n   */\n  get namespaces(): readonly string[] {\n    const namespaces = new Set<string>();\n    for (const token of this._tokens.values()) {\n      namespaces.add(token.namespace);\n    }\n    return Object.freeze(Array.from(namespaces).sort());\n  }\n\n  // \n  // IMMUTABLE CRUD OPERATIONS (return new instances)\n  // \n\n  /**\n   * Agrega un token. Retorna NUEVA coleccin.\n   */\n  add(token: DesignToken): TokenCollection {\n    const newTokens = new Map(this._tokens);\n    newTokens.set(token.name, token);\n    return new TokenCollection(\n      this._name,\n      this._description,\n      this._version,\n      newTokens,\n      this._createdAt,\n      new Date()\n    );\n  }\n\n  /**\n   * Agrega mltiples tokens. Retorna NUEVA coleccin.\n   */\n  addAll(tokens: readonly DesignToken[]): TokenCollection {\n    const newTokens = new Map(this._tokens);\n    for (const token of tokens) {\n      newTokens.set(token.name, token);\n    }\n    return new TokenCollection(\n      this._name,\n      this._description,\n      this._version,\n      newTokens,\n      this._createdAt,\n      new Date()\n    );\n  }\n\n  /**\n   * Obtiene un token por nombre.\n   */\n  get(name: string): DesignToken | undefined {\n    return this._tokens.get(name);\n  }\n\n  /**\n   * Verifica si existe un token.\n   */\n  has(name: string): boolean {\n    return this._tokens.has(name);\n  }\n\n  /**\n   * Elimina un token. Retorna NUEVA coleccin.\n   * Si el token no existe, retorna la misma instancia (sin cambios).\n   */\n  remove(name: string): TokenCollection {\n    if (!this._tokens.has(name)) {\n      return this; // No changes needed\n    }\n    const newTokens = new Map(this._tokens);\n    newTokens.delete(name);\n    return new TokenCollection(\n      this._name,\n      this._description,\n      this._version,\n      newTokens,\n      this._createdAt,\n      new Date()\n    );\n  }\n\n  /**\n   * Reemplaza un token. Retorna Result con NUEVA coleccin o error.\n   */\n  replace(token: DesignToken): Result<TokenCollection, Error> {\n    if (!this._tokens.has(token.name)) {\n      return failure(new Error(`Token '${token.name}' not found`));\n    }\n    const newTokens = new Map(this._tokens);\n    newTokens.set(token.name, token);\n    return success(\n      new TokenCollection(\n        this._name,\n        this._description,\n        this._version,\n        newTokens,\n        this._createdAt,\n        new Date()\n      )\n    );\n  }\n\n  /**\n   * Actualiza o agrega un token. Retorna NUEVA coleccin.\n   */\n  upsert(token: DesignToken): TokenCollection {\n    const newTokens = new Map(this._tokens);\n    newTokens.set(token.name, token);\n    return new TokenCollection(\n      this._name,\n      this._description,\n      this._version,\n      newTokens,\n      this._createdAt,\n      new Date()\n    );\n  }\n\n  /**\n   * Limpia la coleccin. Retorna NUEVA coleccin vaca.\n   */\n  clear(): TokenCollection {\n    if (this._tokens.size === 0) {\n      return this; // Already empty\n    }\n    return new TokenCollection(\n      this._name,\n      this._description,\n      this._version,\n      new Map(),\n      this._createdAt,\n      new Date()\n    );\n  }\n\n  /**\n   * Actualiza metadatos. Retorna NUEVA coleccin.\n   */\n  withMetadata(options: Partial<Pick<TokenCollectionOptions, 'name' | 'description' | 'version'>>): TokenCollection {\n    return new TokenCollection(\n      options.name ?? this._name,\n      options.description ?? this._description,\n      options.version ?? this._version,\n      this._tokens,\n      this._createdAt,\n      new Date()\n    );\n  }\n\n  // \n  // QUERY OPERATIONS (read-only, return copies)\n  // \n\n  /**\n   * Obtiene todos los tokens (copia defensiva).\n   */\n  all(): readonly DesignToken[] {\n    return Object.freeze(Array.from(this._tokens.values()));\n  }\n\n  /**\n   * Alias de all() para compatibilidad.\n   * @deprecated Usar all() en su lugar.\n   */\n  getAll(): readonly DesignToken[] {\n    return this.all();\n  }\n\n  /**\n   * Obtiene tokens por prefijo de path (e.g., 'color.brand').\n   */\n  getByPath(pathPrefix: string): readonly DesignToken[] {\n    const normalizedPrefix = pathPrefix.endsWith('.') ? pathPrefix : `${pathPrefix}.`;\n    const results = Array.from(this._tokens.values()).filter(token => {\n      // Match tokens where name starts with prefix or equals prefix without dot\n      return token.name.startsWith(normalizedPrefix) ||\n             token.name === pathPrefix ||\n             token.name.startsWith(pathPrefix);\n    });\n    return Object.freeze(results);\n  }\n\n  /**\n   * Filtra tokens segn criterios.\n   */\n  filter(criteria: TokenFilter): readonly DesignToken[] {\n    let results = Array.from(this._tokens.values());\n\n    if (criteria.name) {\n      if (criteria.name instanceof RegExp) {\n        results = results.filter(t => criteria.name instanceof RegExp && criteria.name.test(t.name));\n      } else {\n        results = results.filter(t => t.name.includes(criteria.name as string));\n      }\n    }\n\n    if (criteria.type) {\n      results = results.filter(t => t.type === criteria.type);\n    }\n\n    if (criteria.category) {\n      results = results.filter(t => t.category === criteria.category);\n    }\n\n    if (criteria.namespace) {\n      results = results.filter(t => t.namespace === criteria.namespace);\n    }\n\n    if (criteria.role) {\n      results = results.filter(t => t.context.role === criteria.role);\n    }\n\n    if (criteria.state) {\n      results = results.filter(t => t.context.state === criteria.state);\n    }\n\n    if (criteria.component) {\n      results = results.filter(t => t.context.component === criteria.component);\n    }\n\n    if (!criteria.includeDeprecated) {\n      results = results.filter(t => !t.deprecated);\n    }\n\n    return Object.freeze(results);\n  }\n\n  /**\n   * Retorna nueva coleccin con solo los tokens que cumplen criterios.\n   */\n  filterToCollection(criteria: TokenFilter): TokenCollection {\n    const filtered = this.filter(criteria);\n    return TokenCollection.from(this._name, filtered, this._description);\n  }\n\n  /**\n   * Encuentra el primer token que cumple criterios.\n   */\n  find(criteria: TokenFilter): DesignToken | undefined {\n    return this.filter(criteria)[0];\n  }\n\n  /**\n   * Verifica si algn token cumple criterios.\n   */\n  some(criteria: TokenFilter): boolean {\n    return this.filter(criteria).length > 0;\n  }\n\n  /**\n   * Verifica si todos los tokens cumplen criterios.\n   */\n  every(criteria: TokenFilter): boolean {\n    const all = this.all();\n    const filtered = this.filter(criteria);\n    return all.length === filtered.length;\n  }\n\n  /**\n   * Obtiene tokens por tipo.\n   */\n  byType(type: TokenType): readonly DesignToken[] {\n    return this.filter({ type });\n  }\n\n  /**\n   * Obtiene tokens por categora.\n   */\n  byCategory(category: TokenCategory): readonly DesignToken[] {\n    return this.filter({ category });\n  }\n\n  /**\n   * Obtiene tokens por namespace.\n   */\n  byNamespace(namespace: string): readonly DesignToken[] {\n    return this.filter({ namespace });\n  }\n\n  /**\n   * Obtiene tokens por componente.\n   */\n  byComponent(component: string): readonly DesignToken[] {\n    return this.filter({ component });\n  }\n\n  // \n  // GROUPING OPERATIONS\n  // \n\n  /**\n   * Agrupa tokens por tipo.\n   */\n  groupByType(): ReadonlyMap<TokenType, readonly DesignToken[]> {\n    const groups = new Map<TokenType, DesignToken[]>();\n    for (const token of this._tokens.values()) {\n      const existing = groups.get(token.type) || [];\n      existing.push(token);\n      groups.set(token.type, existing);\n    }\n    // Freeze arrays\n    const frozen = new Map<TokenType, readonly DesignToken[]>();\n    for (const [key, value] of groups) {\n      frozen.set(key, Object.freeze(value));\n    }\n    return frozen;\n  }\n\n  /**\n   * Agrupa tokens por categora.\n   */\n  groupByCategory(): ReadonlyMap<TokenCategory, readonly DesignToken[]> {\n    const groups = new Map<TokenCategory, DesignToken[]>();\n    for (const token of this._tokens.values()) {\n      const existing = groups.get(token.category) || [];\n      existing.push(token);\n      groups.set(token.category, existing);\n    }\n    const frozen = new Map<TokenCategory, readonly DesignToken[]>();\n    for (const [key, value] of groups) {\n      frozen.set(key, Object.freeze(value));\n    }\n    return frozen;\n  }\n\n  /**\n   * Agrupa tokens por namespace.\n   */\n  groupByNamespace(): ReadonlyMap<string, readonly DesignToken[]> {\n    const groups = new Map<string, DesignToken[]>();\n    for (const token of this._tokens.values()) {\n      const existing = groups.get(token.namespace) || [];\n      existing.push(token);\n      groups.set(token.namespace, existing);\n    }\n    const frozen = new Map<string, readonly DesignToken[]>();\n    for (const [key, value] of groups) {\n      frozen.set(key, Object.freeze(value));\n    }\n    return frozen;\n  }\n\n  /**\n   * Construye estructura jerrquica desde paths.\n   */\n  toHierarchy(): Readonly<TokenHierarchy> {\n    const root: TokenHierarchy = {};\n\n    for (const token of this._tokens.values()) {\n      const parts = token.path;\n      let current = root;\n\n      for (let i = 0; i < parts.length - 1; i++) {\n        const part = parts[i];\n        if (!(part in current)) {\n          current[part] = {};\n        }\n        current = current[part] as TokenHierarchy;\n      }\n\n      const lastPart = parts[parts.length - 1];\n      current[lastPart] = token;\n    }\n\n    return Object.freeze(root);\n  }\n\n  // \n  // EXPORT OPERATIONS\n  // \n\n  /**\n   * Exporta la coleccin en el formato especificado.\n   */\n  export(options: ExportOptions): string {\n    const tokens = options.includeDeprecated\n      ? Array.from(this._tokens.values())\n      : Array.from(this.filter({ includeDeprecated: false }));\n\n    switch (options.format) {\n      case 'css':\n        return this.exportToCss(tokens, options);\n      case 'scss':\n        return this.exportToScss(tokens, options);\n      case 'json':\n        return this.exportToJson(tokens, options);\n      case 'w3c':\n        return this.exportToW3C(tokens, options);\n      case 'tailwind':\n        return this.exportToTailwind(tokens, options);\n      case 'figma':\n        return this.exportToFigma(tokens, options);\n      default:\n        throw new Error(`Unknown export format: ${(options as ExportOptions).format}`);\n    }\n  }\n\n  /**\n   * Exporta a CSS variables.\n   */\n  private exportToCss(tokens: readonly DesignToken[], options: ExportOptions): string {\n    const prefix = options.prefix || '';\n    const indent = ' '.repeat(options.indent || 2);\n\n    const lines = [':root {'];\n    for (const token of tokens) {\n      const varName = prefix\n        ? `--${prefix}-${token.name.replace(/\\./g, '-')}`\n        : token.cssVariableName;\n      lines.push(`${indent}${varName}: ${token.toCssValue()};`);\n    }\n    lines.push('}');\n\n    return lines.join('\\n');\n  }\n\n  /**\n   * Exporta a SCSS variables.\n   */\n  private exportToScss(tokens: readonly DesignToken[], options: ExportOptions): string {\n    const prefix = options.prefix || '';\n\n    return tokens\n      .map(token => {\n        const varName = prefix\n          ? `$${prefix}-${token.name.replace(/\\./g, '-')}`\n          : `$${token.name.replace(/\\./g, '-')}`;\n        return `${varName}: ${token.toCssValue()};`;\n      })\n      .join('\\n');\n  }\n\n  /**\n   * Exporta a JSON.\n   */\n  private exportToJson(tokens: readonly DesignToken[], options: ExportOptions): string {\n    const data = options.includeMetadata\n      ? tokens.map(t => t.toJSON())\n      : tokens.reduce((acc, t) => {\n          acc[t.name] = t.toCssValue();\n          return acc;\n        }, {} as Record<string, string>);\n\n    return JSON.stringify(data, null, options.indent || 2);\n  }\n\n  /**\n   * Exporta a formato W3C DTCG.\n   */\n  private exportToW3C(tokens: readonly DesignToken[], options: ExportOptions): string {\n    const hierarchy: Record<string, unknown> = {};\n\n    for (const token of tokens) {\n      const parts = token.path;\n      let current = hierarchy;\n\n      for (let i = 0; i < parts.length - 1; i++) {\n        const part = parts[i];\n        if (!(part in current)) {\n          current[part] = {};\n        }\n        current = current[part] as Record<string, unknown>;\n      }\n\n      const lastPart = parts[parts.length - 1];\n      current[lastPart] = token.toW3C();\n    }\n\n    return JSON.stringify(hierarchy, null, options.indent || 2);\n  }\n\n  /**\n   * Exporta a configuracin Tailwind.\n   */\n  private exportToTailwind(tokens: readonly DesignToken[], options: ExportOptions): string {\n    const colors: Record<string, Record<string, string>> = {};\n    const spacing: Record<string, string> = {};\n    const shadows: Record<string, string> = {};\n\n    for (const token of tokens) {\n      const { key, value } = token.toTailwindConfig();\n\n      if (token.isColor) {\n        const parts = key.split('-');\n        const colorName = parts[0];\n        const shade = parts.slice(1).join('-') || 'DEFAULT';\n\n        if (!colors[colorName]) {\n          colors[colorName] = {};\n        }\n        colors[colorName][shade] = value;\n      } else if (token.isDimension) {\n        spacing[key] = value;\n      } else if (token.isShadow) {\n        shadows[key] = value;\n      }\n    }\n\n    const config = {\n      theme: {\n        extend: {\n          colors,\n          spacing,\n          boxShadow: shadows,\n        },\n      },\n    };\n\n    return `module.exports = ${JSON.stringify(config, null, options.indent || 2)}`;\n  }\n\n  /**\n   * Exporta a formato Figma Tokens.\n   */\n  private exportToFigma(tokens: readonly DesignToken[], options: ExportOptions): string {\n    const figmaTokens: Record<string, unknown> = {};\n\n    for (const token of tokens) {\n      figmaTokens[token.name] = {\n        value: token.toCssValue(),\n        type: token.type,\n        description: token.description,\n      };\n    }\n\n    return JSON.stringify(figmaTokens, null, options.indent || 2);\n  }\n\n  // \n  // VALIDATION\n  // \n\n  /**\n   * Valida la coleccin.\n   */\n  validate(): ValidationResult {\n    const errors: ValidationError[] = [];\n    const warnings: ValidationWarning[] = [];\n\n    for (const token of this._tokens.values()) {\n      if (!token.description) {\n        warnings.push({\n          tokenName: token.name,\n          code: 'MISSING_DESCRIPTION',\n          message: 'Token lacks description',\n        });\n      }\n\n      if (!/^[a-z][a-z0-9]*(\\.[a-z][a-z0-9]*)*$/.test(token.name)) {\n        warnings.push({\n          tokenName: token.name,\n          code: 'INVALID_NAME_FORMAT',\n          message: 'Token name should follow lowercase dot notation',\n        });\n      }\n\n      if (token.isColor) {\n        const colorValue = token.value as { perceptual?: unknown };\n        if (!colorValue.perceptual) {\n          warnings.push({\n            tokenName: token.name,\n            code: 'MISSING_PERCEPTUAL',\n            message: 'Color token lacks perceptual metadata',\n          });\n        }\n      }\n\n      if (token.deprecated && !token.deprecationMessage) {\n        warnings.push({\n          tokenName: token.name,\n          code: 'DEPRECATED_NO_MESSAGE',\n          message: 'Deprecated token lacks deprecation message',\n        });\n      }\n    }\n\n    return Object.freeze({\n      valid: errors.length === 0,\n      errors: Object.freeze(errors),\n      warnings: Object.freeze(warnings),\n    });\n  }\n\n  /**\n   * Obtiene estadsticas de la coleccin.\n   */\n  stats(): CollectionStats {\n    const byType: Record<TokenType, number> = {\n      color: 0,\n      dimension: 0,\n      fontFamily: 0,\n      fontWeight: 0,\n      duration: 0,\n      cubicBezier: 0,\n      shadow: 0,\n      gradient: 0,\n      typography: 0,\n      border: 0,\n      transition: 0,\n      composite: 0,\n    };\n\n    const byCategory: Record<TokenCategory, number> = {\n      primitive: 0,\n      semantic: 0,\n      component: 0,\n      state: 0,\n    };\n\n    const byNamespace: Record<string, number> = {};\n    const uniqueColors = new Set<string>();\n    let deprecatedCount = 0;\n\n    for (const token of this._tokens.values()) {\n      byType[token.type]++;\n      byCategory[token.category]++;\n      byNamespace[token.namespace] = (byNamespace[token.namespace] || 0) + 1;\n\n      if (token.deprecated) {\n        deprecatedCount++;\n      }\n\n      if (token.isColor) {\n        uniqueColors.add(token.toCssValue());\n      }\n    }\n\n    return Object.freeze({\n      totalTokens: this._tokens.size,\n      byType: Object.freeze(byType),\n      byCategory: Object.freeze(byCategory),\n      byNamespace: Object.freeze(byNamespace),\n      deprecatedCount,\n      uniqueColors: uniqueColors.size,\n    });\n  }\n\n  // \n  // ITERATION (read-only)\n  // \n\n  /**\n   * Itera sobre tokens.\n   */\n  forEach(callback: (token: DesignToken) => void): void {\n    for (const token of this._tokens.values()) {\n      callback(token);\n    }\n  }\n\n  /**\n   * Mapea tokens a nuevo tipo.\n   */\n  map<T>(callback: (token: DesignToken) => T): readonly T[] {\n    return Object.freeze(this.all().map(callback));\n  }\n\n  /**\n   * Reduce tokens.\n   */\n  reduce<T>(\n    callback: (acc: T, token: DesignToken) => T,\n    initial: T\n  ): T {\n    return Array.from(this._tokens.values()).reduce(callback, initial);\n  }\n\n  /**\n   * Iterator support.\n   */\n  [Symbol.iterator](): Iterator<DesignToken> {\n    return this._tokens.values();\n  }\n\n  // \n  // EQUALITY & COMPARISON\n  // \n\n  /**\n   * Compara dos colecciones por contenido.\n   */\n  equals(other: TokenCollection): boolean {\n    if (this._tokens.size !== other._tokens.size) {\n      return false;\n    }\n    for (const [name, token] of this._tokens) {\n      const otherToken = other._tokens.get(name);\n      if (!otherToken || token.name !== otherToken.name) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Calcula diff entre colecciones.\n   */\n  diff(other: TokenCollection): {\n    readonly added: readonly string[];\n    readonly removed: readonly string[];\n    readonly changed: readonly string[];\n  } {\n    const added: string[] = [];\n    const removed: string[] = [];\n    const changed: string[] = [];\n\n    // Find added and changed\n    for (const [name, token] of other._tokens) {\n      if (!this._tokens.has(name)) {\n        added.push(name);\n      } else {\n        const existing = this._tokens.get(name)!;\n        if (existing.toCssValue() !== token.toCssValue()) {\n          changed.push(name);\n        }\n      }\n    }\n\n    // Find removed\n    for (const name of this._tokens.keys()) {\n      if (!other._tokens.has(name)) {\n        removed.push(name);\n      }\n    }\n\n    return Object.freeze({\n      added: Object.freeze(added),\n      removed: Object.freeze(removed),\n      changed: Object.freeze(changed),\n    });\n  }\n\n  // \n  // SERIALIZATION\n  // \n\n  toJSON(): Readonly<{\n    name: string;\n    description: string;\n    version: string;\n    createdAt: string;\n    updatedAt: string;\n    tokens: readonly object[];\n  }> {\n    return Object.freeze({\n      name: this._name,\n      description: this._description,\n      version: this._version,\n      createdAt: this._createdAt.toISOString(),\n      updatedAt: this._updatedAt.toISOString(),\n      tokens: Object.freeze(this.all().map(t => t.toJSON())),\n    });\n  }\n\n  /**\n   * Reconstituye desde JSON.\n   */\n  static fromJSON(\n    json: { name: string; description?: string; version?: string; tokens: unknown[] },\n    tokenDeserializer: (data: unknown) => DesignToken\n  ): TokenCollection {\n    const tokens = json.tokens.map(tokenDeserializer);\n    return TokenCollection.from(json.name, tokens, json.description ?? '');\n  }\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default TokenCollection;\n// Note: TokenFilter, ExportOptions, TokenHierarchy, CollectionStats,\n// ValidationResult, ValidationError, ValidationWarning, TokenCollectionOptions\n// are already exported at their interface declarations above.\n","/**\n * @fileoverview Token Derivation Service\n *\n * Servicio de dominio para derivar tokens automticamente basndose\n * en reglas perceptuales y semnticas.\n *\n * @module momoto-ui/domain/tokens/services/TokenDerivationService\n * @version 1.0.0\n */\n\nimport { PerceptualColor } from '../../perceptual/value-objects/PerceptualColor';\nimport { accessibilityService } from '../../perceptual/services/AccessibilityService';\nimport { UIRole } from '../../ux/value-objects/UIRole';\nimport { ComponentIntent } from '../../ux/value-objects/ComponentIntent';\nimport { DesignToken, TokenContext } from '../value-objects/DesignToken';\nimport { TokenCollection } from '../entities/TokenCollection';\nimport type { UIState as UIStateType, UIRole as UIRoleType, ComponentVariant } from '../../types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\n/**\n * Configuracin de derivacin.\n */\nexport interface DerivationConfig {\n  readonly states: readonly UIStateType[];\n  readonly roles: readonly UIRoleType[];\n  readonly variants: readonly ComponentVariant[];\n  readonly generateAccessibilityPairs: boolean;\n  readonly generateScaleSteps: boolean;\n  readonly scaleSteps: number;\n}\n\n/**\n * Regla de derivacin de estado.\n */\nexport interface StateDerivationRule {\n  readonly state: UIStateType;\n  readonly lightnessAdjust: number;\n  readonly chromaAdjust: number;\n  readonly opacityMultiplier: number;\n}\n\n/**\n * Regla de derivacin de escala.\n */\nexport interface ScaleDerivationRule {\n  readonly step: number;\n  readonly lightnessTarget: number;\n  readonly chromaMultiplier: number;\n}\n\n/**\n * Par de accesibilidad generado.\n */\nexport interface AccessibilityPair {\n  readonly background: DesignToken;\n  readonly foreground: DesignToken;\n  readonly apcaContrast: number;\n  readonly wcagRatio: number;\n  readonly passes: {\n    readonly apcaBody: boolean;\n    readonly apcaHeading: boolean;\n    readonly wcagAA: boolean;\n    readonly wcagAAA: boolean;\n  };\n}\n\n// ============================================================================\n// DEFAULT CONFIGURATIONS\n// ============================================================================\n\n/**\n * Configuracin por defecto de derivacin.\n */\nexport const DEFAULT_DERIVATION_CONFIG: DerivationConfig = {\n  states: ['idle', 'hover', 'active', 'focus', 'disabled'],\n  roles: ['background', 'surface', 'accent', 'text-primary', 'text-secondary', 'border'],\n  variants: ['solid', 'soft', 'outline', 'ghost'],\n  generateAccessibilityPairs: true,\n  generateScaleSteps: true,\n  scaleSteps: 9,\n};\n\n/**\n * Reglas de derivacin por estado.\n */\nconst STATE_DERIVATION_RULES: Record<UIStateType, StateDerivationRule> = {\n  idle: {\n    state: 'idle',\n    lightnessAdjust: 0,\n    chromaAdjust: 0,\n    opacityMultiplier: 1,\n  },\n  hover: {\n    state: 'hover',\n    lightnessAdjust: 0.05,\n    chromaAdjust: 0.02,\n    opacityMultiplier: 1,\n  },\n  active: {\n    state: 'active',\n    lightnessAdjust: -0.08,\n    chromaAdjust: 0.03,\n    opacityMultiplier: 1,\n  },\n  focus: {\n    state: 'focus',\n    lightnessAdjust: 0,\n    chromaAdjust: 0.01,\n    opacityMultiplier: 1,\n  },\n  disabled: {\n    state: 'disabled',\n    lightnessAdjust: 0.2,\n    chromaAdjust: -0.08,\n    opacityMultiplier: 0.5,\n  },\n  loading: {\n    state: 'loading',\n    lightnessAdjust: 0,\n    chromaAdjust: -0.05,\n    opacityMultiplier: 0.7,\n  },\n  error: {\n    state: 'error',\n    lightnessAdjust: 0,\n    chromaAdjust: 0.1,\n    opacityMultiplier: 1,\n  },\n  success: {\n    state: 'success',\n    lightnessAdjust: 0,\n    chromaAdjust: 0.05,\n    opacityMultiplier: 1,\n  },\n};\n\n/**\n * Pasos de escala de luminosidad (similar a Tailwind 50-950).\n */\nconst LIGHTNESS_SCALE: Record<number, number> = {\n  50: 0.97,\n  100: 0.94,\n  200: 0.88,\n  300: 0.80,\n  400: 0.70,\n  500: 0.55,  // Base\n  600: 0.45,\n  700: 0.35,\n  800: 0.25,\n  900: 0.18,\n  950: 0.12,\n};\n\n// ============================================================================\n// TOKEN DERIVATION SERVICE\n// ============================================================================\n\n/**\n * TokenDerivationService - Servicio para derivacin automtica de tokens.\n *\n * Genera tokens derivados basndose en:\n * - Estados de interaccin (hover, active, etc.)\n * - Escalas de luminosidad (50-950)\n * - Pares de accesibilidad (foreground/background)\n * - Variantes de componente (solid, soft, outline, ghost)\n *\n * @example\n * ```typescript\n * const service = new TokenDerivationService();\n *\n * // Derivar estados para un color base\n * const baseColor = PerceptualColor.fromHex('#3B82F6').value!;\n * const stateTokens = service.deriveStates('button.primary', baseColor);\n *\n * // Generar escala completa\n * const scale = service.deriveScale('blue', baseColor);\n *\n * // Generar coleccin completa para componente\n * const collection = service.deriveComponentTokens('button', baseColor, 'action');\n * ```\n */\nexport class TokenDerivationService {\n  // \n  // PRIVATE STATE\n  // \n\n  private readonly _config: DerivationConfig;\n  private readonly _stateRules: Map<UIStateType, StateDerivationRule>;\n\n  // \n  // CONSTRUCTOR\n  // \n\n  constructor(config: Partial<DerivationConfig> = {}) {\n    this._config = { ...DEFAULT_DERIVATION_CONFIG, ...config };\n    this._stateRules = new Map(\n      Object.entries(STATE_DERIVATION_RULES) as [UIStateType, StateDerivationRule][]\n    );\n  }\n\n  // \n  // STATE DERIVATION\n  // \n\n  /**\n   * Deriva tokens de estado desde un color base.\n   */\n  deriveStates(\n    baseName: string,\n    baseColor: PerceptualColor,\n    context: Partial<TokenContext> = {}\n  ): DesignToken[] {\n    const tokens: DesignToken[] = [];\n\n    for (const state of this._config.states) {\n      const rule = this._stateRules.get(state);\n      if (!rule) continue;\n\n      const derivedColor = this.applyStateRule(baseColor, rule);\n      const tokenName = `${baseName}.${state}`;\n\n      tokens.push(\n        DesignToken.color(\n          tokenName,\n          derivedColor,\n          { ...context, state },\n          `${baseName} in ${state} state`\n        )\n      );\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Aplica regla de estado a un color.\n   */\n  private applyStateRule(\n    color: PerceptualColor,\n    rule: StateDerivationRule\n  ): PerceptualColor {\n    let result = color;\n\n    if (rule.lightnessAdjust !== 0) {\n      result = rule.lightnessAdjust > 0\n        ? result.lighten(Math.abs(rule.lightnessAdjust))\n        : result.darken(Math.abs(rule.lightnessAdjust));\n    }\n\n    if (rule.chromaAdjust !== 0) {\n      result = rule.chromaAdjust > 0\n        ? result.saturate(Math.abs(rule.chromaAdjust))\n        : result.desaturate(Math.abs(rule.chromaAdjust));\n    }\n\n    // Opacity se manejar en el token o CSS\n    return result;\n  }\n\n  // \n  // SCALE DERIVATION\n  // \n\n  /**\n   * Deriva una escala completa de luminosidad (50-950).\n   */\n  deriveScale(\n    baseName: string,\n    baseColor: PerceptualColor,\n    context: Partial<TokenContext> = {}\n  ): DesignToken[] {\n    const tokens: DesignToken[] = [];\n    const baseOklch = baseColor.oklch;\n\n    for (const [step, lightness] of Object.entries(LIGHTNESS_SCALE)) {\n      // Ajustar croma para mantener viveza perceptual\n      const chromaMultiplier = this.calculateChromaMultiplier(lightness, baseOklch.l);\n      const adjustedChroma = baseOklch.c * chromaMultiplier;\n\n      const scaledColor = PerceptualColor.fromOklch(\n        lightness,\n        Math.min(adjustedChroma, 0.4), // Cap chroma\n        baseOklch.h\n      );\n\n      const tokenName = `${baseName}.${step}`;\n\n      tokens.push(\n        DesignToken.color(\n          tokenName,\n          scaledColor,\n          context,\n          `${baseName} at ${step} lightness`\n        )\n      );\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Calcula multiplicador de croma para preservar percepcin.\n   */\n  private calculateChromaMultiplier(targetL: number, _baseL: number): number {\n    // Los extremos de luminosidad necesitan menos croma\n    if (targetL > 0.9 || targetL < 0.2) {\n      return 0.5;\n    }\n    // Cerca del medio, mantener croma similar\n    if (targetL > 0.4 && targetL < 0.7) {\n      return 1.0;\n    }\n    // Transicin suave\n    return 0.75;\n  }\n\n  // \n  // ACCESSIBILITY PAIR DERIVATION\n  // \n\n  /**\n   * Genera pares de colores con contraste garantizado.\n   */\n  deriveAccessibilityPairs(\n    baseName: string,\n    baseColor: PerceptualColor,\n    context: Partial<TokenContext> = {}\n  ): AccessibilityPair[] {\n    const pairs: AccessibilityPair[] = [];\n    const scale = this.deriveScale(baseName, baseColor);\n\n    // Generar pares: backgrounds claros con texts oscuros y viceversa\n    const lightSteps = [50, 100, 200];\n    const darkSteps = [800, 900, 950];\n\n    // Pares claros (fondo claro, texto oscuro)\n    for (const bgStep of lightSteps) {\n      for (const fgStep of darkSteps) {\n        const bgToken = scale.find(t => t.name.endsWith(`.${bgStep}`));\n        const fgToken = scale.find(t => t.name.endsWith(`.${fgStep}`));\n\n        if (bgToken && fgToken) {\n          const pair = this.createAccessibilityPair(\n            `${baseName}.pair.${bgStep}-${fgStep}`,\n            bgToken,\n            fgToken,\n            context\n          );\n          if (pair) pairs.push(pair);\n        }\n      }\n    }\n\n    // Pares oscuros (fondo oscuro, texto claro)\n    for (const bgStep of darkSteps) {\n      for (const fgStep of lightSteps) {\n        const bgToken = scale.find(t => t.name.endsWith(`.${bgStep}`));\n        const fgToken = scale.find(t => t.name.endsWith(`.${fgStep}`));\n\n        if (bgToken && fgToken) {\n          const pair = this.createAccessibilityPair(\n            `${baseName}.pair.${bgStep}-${fgStep}`,\n            bgToken,\n            fgToken,\n            context\n          );\n          if (pair) pairs.push(pair);\n        }\n      }\n    }\n\n    return pairs;\n  }\n\n  /**\n   * Crea un par de accesibilidad con mtricas.\n   */\n  private createAccessibilityPair(\n    _name: string,\n    bgToken: DesignToken,\n    fgToken: DesignToken,\n    _context: Partial<TokenContext>\n  ): AccessibilityPair | null {\n    const bgColorResult = PerceptualColor.tryFromHex(bgToken.toCssValue());\n    const fgColorResult = PerceptualColor.tryFromHex(fgToken.toCssValue());\n\n    if (!bgColorResult.success || !fgColorResult.success) {\n      return null;\n    }\n\n    const bgColor = bgColorResult.value;\n    const fgColor = fgColorResult.value;\n\n    // Calcular contrastes using AccessibilityService\n    const bgRgb = bgColor.rgb;\n    const fgRgb = fgColor.rgb;\n\n    const wcagRatio = accessibilityService.calculateWcagContrast(bgRgb, fgRgb);\n    const apcaContrast = accessibilityService.calculateApcaContrast(bgRgb, fgRgb);\n\n    return {\n      background: bgToken,\n      foreground: fgToken,\n      apcaContrast,\n      wcagRatio,\n      passes: {\n        apcaBody: Math.abs(apcaContrast) >= 60,\n        apcaHeading: Math.abs(apcaContrast) >= 45,\n        wcagAA: wcagRatio >= 4.5,\n        wcagAAA: wcagRatio >= 7.0,\n      },\n    };\n  }\n\n  // \n  // COMPONENT TOKEN DERIVATION\n  // \n\n  /**\n   * Deriva una coleccin completa de tokens para un componente.\n   */\n  deriveComponentTokens(\n    componentName: string,\n    brandColor: PerceptualColor,\n    intent: ComponentIntent\n  ): TokenCollection {\n    // Collect all tokens first (immutable pattern)\n    const allTokens: DesignToken[] = [];\n    const baseName = `${componentName}.${intent.value}`;\n\n    // Tokens de estado\n    const stateTokens = this.deriveStates(baseName, brandColor, {\n      component: componentName,\n      intent: intent.value,\n    });\n    allTokens.push(...stateTokens);\n\n    // Tokens por variante\n    for (const variant of intent.recommendedVariants) {\n      const variantTokens = this.deriveVariantTokens(\n        componentName,\n        brandColor,\n        intent,\n        variant\n      );\n      allTokens.push(...variantTokens);\n    }\n\n    // Tokens de rol semntico\n    for (const role of intent.primaryRoles) {\n      const roleColor = this.deriveRoleColor(brandColor, UIRole.of(role));\n      const roleToken = DesignToken.color(\n        `${baseName}.${role}`,\n        roleColor,\n        { role, component: componentName, intent: intent.value },\n        `${componentName} ${role} color`\n      );\n      allTokens.push(roleToken);\n    }\n\n    // Create collection with all tokens at once\n    return TokenCollection.from(componentName, allTokens);\n  }\n\n  /**\n   * Deriva tokens para una variante especfica.\n   */\n  private deriveVariantTokens(\n    componentName: string,\n    brandColor: PerceptualColor,\n    intent: ComponentIntent,\n    variant: ComponentVariant\n  ): DesignToken[] {\n    const tokens: DesignToken[] = [];\n    const baseName = `${componentName}.${intent.value}.${variant}`;\n\n    switch (variant) {\n      case 'solid': {\n        // Background slido, texto invertido\n        tokens.push(\n          DesignToken.color(baseName + '.bg', brandColor, {\n            component: componentName,\n            variant,\n            role: 'accent',\n          }),\n          DesignToken.color(baseName + '.text', this.deriveContrastText(brandColor), {\n            component: componentName,\n            variant,\n            role: 'text-inverse',\n          })\n        );\n        break;\n      }\n\n      case 'soft': {\n        // Background suave (alta luminosidad), texto del color\n        const softBg = brandColor.lighten(0.35);\n        const softText = brandColor.darken(0.15);\n        tokens.push(\n          DesignToken.color(baseName + '.bg', softBg, {\n            component: componentName,\n            variant,\n            role: 'accent-muted',\n          }),\n          DesignToken.color(baseName + '.text', softText, {\n            component: componentName,\n            variant,\n            role: 'text-primary',\n          })\n        );\n        break;\n      }\n\n      case 'outline': {\n        // Sin background, borde del color\n        tokens.push(\n          DesignToken.color(baseName + '.border', brandColor, {\n            component: componentName,\n            variant,\n            role: 'border',\n          }),\n          DesignToken.color(baseName + '.text', brandColor, {\n            component: componentName,\n            variant,\n            role: 'text-primary',\n          })\n        );\n        break;\n      }\n\n      case 'ghost': {\n        // Sin background visible, solo texto\n        tokens.push(\n          DesignToken.color(baseName + '.text', brandColor, {\n            component: componentName,\n            variant,\n            role: 'text-primary',\n          }),\n          DesignToken.color(baseName + '.bg-hover', brandColor.lighten(0.4), {\n            component: componentName,\n            variant,\n            role: 'background',\n            state: 'hover',\n          })\n        );\n        break;\n      }\n\n      case 'glass': {\n        // Efecto glassmorphism\n        const glassBg = brandColor.lighten(0.3);\n        tokens.push(\n          DesignToken.color(baseName + '.bg', glassBg, {\n            component: componentName,\n            variant,\n            role: 'surface-elevated',\n          }),\n          DesignToken.color(baseName + '.border', brandColor.lighten(0.2), {\n            component: componentName,\n            variant,\n            role: 'border-subtle',\n          })\n        );\n        break;\n      }\n\n      case 'gradient': {\n        // Gradiente\n        const gradientEnd = PerceptualColor.fromOklch(\n          brandColor.oklch.l,\n          brandColor.oklch.c,\n          (brandColor.oklch.h + 30) % 360\n        );\n\n        tokens.push(\n          DesignToken.gradient(\n            baseName + '.bg',\n            {\n              type: 'linear',\n              angle: 135,\n              stops: [\n                { color: brandColor.hex, position: 0 },\n                { color: gradientEnd.hex, position: 1 },\n              ],\n            },\n            { component: componentName, variant }\n          )\n        );\n        break;\n      }\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Deriva color de texto con contraste adecuado.\n   */\n  private deriveContrastText(backgroundColor: PerceptualColor): PerceptualColor {\n    const bgL = backgroundColor.oklch.l;\n\n    // Si el fondo es oscuro, texto claro; si es claro, texto oscuro\n    if (bgL < 0.55) {\n      return PerceptualColor.fromOklch(0.98, 0, 0); // Blanco\n    } else {\n      return PerceptualColor.fromOklch(0.15, 0, 0); // Negro\n    }\n  }\n\n  /**\n   * Deriva color para un rol especfico.\n   */\n  private deriveRoleColor(brandColor: PerceptualColor, role: UIRole): PerceptualColor {\n    const oklch = brandColor.oklch;\n\n    switch (role.value) {\n      case 'background':\n        return PerceptualColor.fromOklch(0.99, 0.005, oklch.h);\n      case 'surface':\n        return PerceptualColor.fromOklch(0.97, 0.008, oklch.h);\n      case 'surface-elevated':\n        return PerceptualColor.fromOklch(0.98, 0.01, oklch.h);\n      case 'accent':\n        return brandColor;\n      case 'accent-muted':\n        return brandColor.lighten(0.25);\n      case 'text-primary':\n        return PerceptualColor.fromOklch(0.2, 0.01, oklch.h);\n      case 'text-secondary':\n        return PerceptualColor.fromOklch(0.45, 0.02, oklch.h);\n      case 'text-muted':\n        return PerceptualColor.fromOklch(0.6, 0.015, oklch.h);\n      case 'text-inverse':\n        return PerceptualColor.fromOklch(0.98, 0.005, oklch.h);\n      case 'border':\n        return PerceptualColor.fromOklch(0.85, 0.02, oklch.h);\n      case 'border-subtle':\n        return PerceptualColor.fromOklch(0.92, 0.01, oklch.h);\n      case 'icon':\n        return PerceptualColor.fromOklch(0.4, oklch.c * 0.5, oklch.h);\n      case 'shadow':\n        return PerceptualColor.fromOklch(0.1, 0.02, oklch.h);\n      case 'overlay':\n        return PerceptualColor.fromOklch(0.15, 0.01, oklch.h);\n      case 'focus-ring':\n        return brandColor.saturate(0.1);\n      default:\n        return brandColor;\n    }\n  }\n\n  // \n  // FULL THEME DERIVATION\n  // \n\n  /**\n   * Deriva un tema completo desde un color de marca.\n   */\n  deriveTheme(\n    themeName: string,\n    brandColor: PerceptualColor,\n    options: {\n      includeSemanticColors?: boolean;\n      includeShadows?: boolean;\n      includeSpacing?: boolean;\n    } = {}\n  ): TokenCollection {\n    // Collect all tokens first (immutable pattern)\n    const allTokens: DesignToken[] = [];\n\n    // 1. Escala del color de marca\n    const brandScale = this.deriveScale('brand', brandColor);\n    allTokens.push(...brandScale);\n\n    // 2. Colores semnticos\n    if (options.includeSemanticColors !== false) {\n      const semanticColors = this.deriveSemanticColors(brandColor);\n      allTokens.push(...semanticColors);\n    }\n\n    // 3. Colores neutrales (grises derivados del brand)\n    const neutrals = this.deriveNeutrals(brandColor);\n    allTokens.push(...neutrals);\n\n    // 4. Sombras\n    if (options.includeShadows !== false) {\n      const shadows = this.deriveShadows(brandColor);\n      allTokens.push(...shadows);\n    }\n\n    // Create collection with all tokens at once\n    return TokenCollection.from(themeName, allTokens);\n  }\n\n  /**\n   * Deriva colores semnticos (success, warning, error, info).\n   */\n  private deriveSemanticColors(brandColor: PerceptualColor): DesignToken[] {\n    const tokens: DesignToken[] = [];\n    const brandH = brandColor.oklch.h;\n\n    // Success (verde)\n    const successBase = PerceptualColor.fromOklch(0.55, 0.15, 145);\n    tokens.push(...this.deriveScale('success', successBase));\n\n    // Warning (amarillo/naranja)\n    const warningBase = PerceptualColor.fromOklch(0.55, 0.15, 85);\n    tokens.push(...this.deriveScale('warning', warningBase));\n\n    // Error (rojo)\n    const errorBase = PerceptualColor.fromOklch(0.55, 0.2, 25);\n    tokens.push(...this.deriveScale('error', errorBase));\n\n    // Info (azul, cercano al brand si brand es azul)\n    const infoH = Math.abs(brandH - 250) < 40 ? brandH : 250;\n    const infoBase = PerceptualColor.fromOklch(0.55, 0.15, infoH);\n    tokens.push(...this.deriveScale('info', infoBase));\n\n    return tokens;\n  }\n\n  /**\n   * Deriva grises con tinte del brand.\n   */\n  private deriveNeutrals(brandColor: PerceptualColor): DesignToken[] {\n    const tokens: DesignToken[] = [];\n    const brandH = brandColor.oklch.h;\n\n    // Grises con muy leve tinte del color de marca\n    for (const [step, lightness] of Object.entries(LIGHTNESS_SCALE)) {\n      const neutralColor = PerceptualColor.fromOklch(\n        lightness,\n        0.005, // Casi sin saturacin\n        brandH\n      );\n\n      tokens.push(\n        DesignToken.color(\n          `neutral.${step}`,\n          neutralColor,\n          { role: lightness > 0.5 ? 'background' : 'text-primary' },\n          `Neutral gray at ${step}`\n        )\n      );\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Deriva sombras coherentes con el tema.\n   */\n  private deriveShadows(brandColor: PerceptualColor): DesignToken[] {\n    const shadowColor = PerceptualColor.fromOklch(\n      0.15,\n      0.02,\n      brandColor.oklch.h\n    ).hex;\n\n    return [\n      DesignToken.shadow('shadow.xs', [\n        { offsetX: 0, offsetY: 1, blur: 2, spread: 0, color: `${shadowColor}10` },\n      ]),\n      DesignToken.shadow('shadow.sm', [\n        { offsetX: 0, offsetY: 1, blur: 3, spread: 0, color: `${shadowColor}15` },\n        { offsetX: 0, offsetY: 1, blur: 2, spread: -1, color: `${shadowColor}10` },\n      ]),\n      DesignToken.shadow('shadow.md', [\n        { offsetX: 0, offsetY: 4, blur: 6, spread: -1, color: `${shadowColor}15` },\n        { offsetX: 0, offsetY: 2, blur: 4, spread: -2, color: `${shadowColor}10` },\n      ]),\n      DesignToken.shadow('shadow.lg', [\n        { offsetX: 0, offsetY: 10, blur: 15, spread: -3, color: `${shadowColor}15` },\n        { offsetX: 0, offsetY: 4, blur: 6, spread: -4, color: `${shadowColor}10` },\n      ]),\n      DesignToken.shadow('shadow.xl', [\n        { offsetX: 0, offsetY: 20, blur: 25, spread: -5, color: `${shadowColor}20` },\n        { offsetX: 0, offsetY: 8, blur: 10, spread: -6, color: `${shadowColor}10` },\n      ]),\n      DesignToken.shadow('shadow.2xl', [\n        { offsetX: 0, offsetY: 25, blur: 50, spread: -12, color: `${shadowColor}30` },\n      ]),\n    ];\n  }\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default TokenDerivationService;\nexport {\n  STATE_DERIVATION_RULES,\n  LIGHTNESS_SCALE,\n};\n"]}