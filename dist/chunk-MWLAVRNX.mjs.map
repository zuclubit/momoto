{"version":3,"sources":["../adapters/css/CssVariablesAdapter.ts"],"names":[],"mappings":"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","file":"chunk-MWLAVRNX.mjs","sourcesContent":["/**\n * @fileoverview CSS Variables Adapter\n *\n * Adaptador para aplicar tokens de diseño como CSS Custom Properties.\n * Implementa ThemeAdapterPort para entornos DOM.\n *\n * @module momoto-ui/adapters/css/CssVariablesAdapter\n * @version 1.0.0\n */\n\nimport type { Result } from '../../domain/types';\nimport { success, failure } from '../../domain/types';\nimport type {\n  ThemeAdapterPort,\n  ThemeConfig,\n  ThemeState,\n  ThemeChangeOptions,\n  ThemePreferences,\n  SystemPreferences,\n} from '../../application/ports/outbound/ThemeAdapterPort';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\n/**\n * Opciones de configuración del adaptador CSS.\n */\nexport interface CssAdapterOptions {\n  /** Selector raíz para aplicar variables */\n  readonly rootSelector?: string;\n  /** Prefijo para variables CSS */\n  readonly variablePrefix?: string;\n  /** ID del elemento style a crear/usar */\n  readonly styleElementId?: string;\n  /** Si usar media query para modo oscuro */\n  readonly useDarkModeMediaQuery?: boolean;\n  /** Clase para modo oscuro */\n  readonly darkModeClass?: string;\n  /** Clave de localStorage para preferencias */\n  readonly storageKey?: string;\n  /** Duración de transición por defecto (ms) */\n  readonly defaultTransitionDuration?: number;\n}\n\n/**\n * Opciones por defecto.\n */\nconst DEFAULT_OPTIONS: Required<CssAdapterOptions> = {\n  rootSelector: ':root',\n  variablePrefix: '',\n  styleElementId: 'momoto-ui-theme',\n  useDarkModeMediaQuery: true,\n  darkModeClass: 'dark',\n  storageKey: 'momoto-ui-theme-preferences',\n  defaultTransitionDuration: 200,\n};\n\n// ============================================================================\n// ADAPTER\n// ============================================================================\n\n/**\n * CssVariablesAdapter - Adaptador de temas para CSS Custom Properties.\n *\n * Este adaptador aplica tokens de diseño al DOM mediante CSS Custom Properties,\n * con soporte para modo oscuro, transiciones y persistencia de preferencias.\n *\n * @example\n * ```typescript\n * const adapter = new CssVariablesAdapter({\n *   rootSelector: ':root',\n *   darkModeClass: 'dark',\n *   useDarkModeMediaQuery: true,\n * });\n *\n * await adapter.apply({\n *   name: 'brand',\n *   isDark: false,\n *   tokens: tokenCollection,\n * });\n *\n * // Later, toggle dark mode\n * await adapter.toggleDarkMode({ animate: true });\n * ```\n */\nexport class CssVariablesAdapter implements ThemeAdapterPort {\n  // ─────────────────────────────────────────────────────────────────────────\n  // PROPERTIES\n  // ─────────────────────────────────────────────────────────────────────────\n\n  private readonly options: Required<CssAdapterOptions>;\n  private registeredThemes: Map<string, ThemeConfig> = new Map();\n  private activeTheme: string | null = null;\n  private isDarkMode = false;\n  private styleElement: HTMLStyleElement | null = null;\n  private themeChangeListeners: Set<(state: ThemeState) => void> = new Set();\n  private systemPrefsListeners: Set<(prefs: SystemPreferences) => void> = new Set();\n  private mediaQueryList: MediaQueryList | null = null;\n\n  // ─────────────────────────────────────────────────────────────────────────\n  // CONSTRUCTOR\n  // ─────────────────────────────────────────────────────────────────────────\n\n  constructor(options: CssAdapterOptions = {}) {\n    this.options = { ...DEFAULT_OPTIONS, ...options };\n\n    if (this.isAvailable()) {\n      this.initializeStyleElement();\n      this.initializeMediaQueryListener();\n      this.loadPreferences();\n    }\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────\n  // THEME APPLICATION\n  // ─────────────────────────────────────────────────────────────────────────\n\n  async apply(config: ThemeConfig): Promise<Result<void, Error>> {\n    if (!this.isAvailable()) {\n      return failure(new Error('CSS adapter requires DOM environment'));\n    }\n\n    try {\n      // Generate CSS\n      const css = this.generateCss(config);\n\n      // Apply to style element\n      if (this.styleElement) {\n        this.styleElement.textContent = css;\n      }\n\n      // Apply dark mode class if needed\n      if (config.isDark) {\n        document.documentElement.classList.add(this.options.darkModeClass);\n      } else {\n        document.documentElement.classList.remove(this.options.darkModeClass);\n      }\n\n      // Update state\n      this.activeTheme = config.name;\n      this.isDarkMode = config.isDark;\n\n      // Register theme\n      this.registeredThemes.set(config.name, config);\n\n      // Notify listeners\n      this.notifyThemeChange();\n\n      return success(undefined);\n    } catch (error) {\n      return failure(\n        error instanceof Error ? error : new Error('Failed to apply theme')\n      );\n    }\n  }\n\n  async remove(): Promise<Result<void, Error>> {\n    if (!this.isAvailable()) {\n      return failure(new Error('CSS adapter requires DOM environment'));\n    }\n\n    try {\n      if (this.styleElement) {\n        this.styleElement.textContent = '';\n      }\n\n      document.documentElement.classList.remove(this.options.darkModeClass);\n\n      this.activeTheme = null;\n      this.notifyThemeChange();\n\n      return success(undefined);\n    } catch (error) {\n      return failure(\n        error instanceof Error ? error : new Error('Failed to remove theme')\n      );\n    }\n  }\n\n  async switchTo(\n    themeName: string,\n    options?: ThemeChangeOptions\n  ): Promise<Result<void, Error>> {\n    const theme = this.registeredThemes.get(themeName);\n\n    if (!theme) {\n      return failure(new Error(`Theme \"${themeName}\" not found`));\n    }\n\n    if (options?.animate) {\n      this.enableTransitions(options.animationDuration);\n    }\n\n    const result = await this.apply(theme);\n\n    if (options?.animate) {\n      setTimeout(\n        () => this.disableTransitions(),\n        options.animationDuration || this.options.defaultTransitionDuration\n      );\n    }\n\n    if (options?.persist) {\n      await this.setPreferences({ preferredTheme: themeName });\n    }\n\n    options?.onComplete?.();\n\n    return result;\n  }\n\n  async toggleDarkMode(options?: ThemeChangeOptions): Promise<Result<void, Error>> {\n    if (!this.activeTheme) {\n      return failure(new Error('No active theme to toggle'));\n    }\n\n    const currentTheme = this.registeredThemes.get(this.activeTheme);\n    if (!currentTheme) {\n      return failure(new Error('Active theme not found'));\n    }\n\n    // Find the opposite variant\n    const targetIsDark = !this.isDarkMode;\n    const darkSuffix = '-dark';\n    const lightName = currentTheme.name.endsWith(darkSuffix)\n      ? currentTheme.name.slice(0, -darkSuffix.length)\n      : currentTheme.name;\n\n    const targetThemeName = targetIsDark ? `${lightName}${darkSuffix}` : lightName;\n    const targetTheme = this.registeredThemes.get(targetThemeName);\n\n    if (targetTheme) {\n      return this.switchTo(targetThemeName, options);\n    }\n\n    // If no separate dark theme, toggle the class\n    if (options?.animate) {\n      this.enableTransitions(options.animationDuration);\n    }\n\n    this.isDarkMode = targetIsDark;\n\n    if (targetIsDark) {\n      document.documentElement.classList.add(this.options.darkModeClass);\n    } else {\n      document.documentElement.classList.remove(this.options.darkModeClass);\n    }\n\n    if (options?.animate) {\n      setTimeout(\n        () => this.disableTransitions(),\n        options.animationDuration || this.options.defaultTransitionDuration\n      );\n    }\n\n    if (options?.persist) {\n      await this.setPreferences({ darkModeOverride: targetIsDark });\n    }\n\n    this.notifyThemeChange();\n    options?.onComplete?.();\n\n    return success(undefined);\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────\n  // THEME STATE\n  // ─────────────────────────────────────────────────────────────────────────\n\n  async getState(): Promise<Result<ThemeState, Error>> {\n    return success({\n      activeTheme: this.activeTheme || '',\n      isDark: this.isDarkMode,\n      availableThemes: Array.from(this.registeredThemes.keys()),\n      lastUpdate: new Date(),\n      appliedVariables: this.countAppliedVariables(),\n    });\n  }\n\n  async registerTheme(config: ThemeConfig): Promise<Result<void, Error>> {\n    this.registeredThemes.set(config.name, config);\n    return success(undefined);\n  }\n\n  async unregisterTheme(themeName: string): Promise<Result<void, Error>> {\n    if (this.activeTheme === themeName) {\n      await this.remove();\n    }\n    this.registeredThemes.delete(themeName);\n    return success(undefined);\n  }\n\n  async listThemes(): Promise<Result<string[], Error>> {\n    return success(Array.from(this.registeredThemes.keys()));\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────\n  // PREFERENCES\n  // ─────────────────────────────────────────────────────────────────────────\n\n  async getPreferences(): Promise<Result<ThemePreferences, Error>> {\n    if (!this.isAvailable()) {\n      return success({});\n    }\n\n    try {\n      const stored = localStorage.getItem(this.options.storageKey);\n      return success(stored ? JSON.parse(stored) : {});\n    } catch {\n      return success({});\n    }\n  }\n\n  async setPreferences(\n    preferences: Partial<ThemePreferences>\n  ): Promise<Result<void, Error>> {\n    if (!this.isAvailable()) {\n      return failure(new Error('Storage not available'));\n    }\n\n    try {\n      const currentResult = await this.getPreferences();\n      const current = currentResult.success ? currentResult.value : {};\n      const updated = { ...current, ...preferences };\n      localStorage.setItem(this.options.storageKey, JSON.stringify(updated));\n      return success(undefined);\n    } catch (error) {\n      return failure(\n        error instanceof Error ? error : new Error('Failed to save preferences')\n      );\n    }\n  }\n\n  async detectSystemPreferences(): Promise<Result<SystemPreferences, Error>> {\n    if (!this.isAvailable()) {\n      return success({\n        prefersDark: false,\n        prefersContrast: 'no-preference',\n        prefersReducedMotion: false,\n        prefersReducedTransparency: false,\n        forcedColors: false,\n      });\n    }\n\n    return success({\n      prefersDark: window.matchMedia('(prefers-color-scheme: dark)').matches,\n      prefersContrast: this.detectContrastPreference(),\n      prefersReducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches,\n      prefersReducedTransparency: window.matchMedia('(prefers-reduced-transparency: reduce)').matches,\n      forcedColors: window.matchMedia('(forced-colors: active)').matches,\n    });\n  }\n\n  async syncWithSystem(): Promise<Result<void, Error>> {\n    const prefsResult = await this.detectSystemPreferences();\n    if (!prefsResult.success) {\n      return failure(prefsResult.error);\n    }\n\n    const prefs = prefsResult.value;\n\n    if (prefs.prefersDark !== this.isDarkMode) {\n      await this.toggleDarkMode({ animate: true });\n    }\n\n    return success(undefined);\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────\n  // SUBSCRIPTIONS\n  // ─────────────────────────────────────────────────────────────────────────\n\n  onThemeChange(callback: (state: ThemeState) => void): () => void {\n    this.themeChangeListeners.add(callback);\n    return () => this.themeChangeListeners.delete(callback);\n  }\n\n  onSystemPreferencesChange(callback: (prefs: SystemPreferences) => void): () => void {\n    this.systemPrefsListeners.add(callback);\n    return () => this.systemPrefsListeners.delete(callback);\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────\n  // UTILITIES\n  // ─────────────────────────────────────────────────────────────────────────\n\n  async getVariable(variableName: string): Promise<Result<string | null, Error>> {\n    if (!this.isAvailable()) {\n      return success(null);\n    }\n\n    try {\n      const root = document.documentElement;\n      const value = getComputedStyle(root).getPropertyValue(variableName).trim();\n      return success(value || null);\n    } catch (error) {\n      return failure(\n        error instanceof Error ? error : new Error('Failed to get variable')\n      );\n    }\n  }\n\n  async setVariable(variableName: string, value: string): Promise<Result<void, Error>> {\n    if (!this.isAvailable()) {\n      return failure(new Error('DOM not available'));\n    }\n\n    try {\n      document.documentElement.style.setProperty(variableName, value);\n      return success(undefined);\n    } catch (error) {\n      return failure(\n        error instanceof Error ? error : new Error('Failed to set variable')\n      );\n    }\n  }\n\n  async getAllVariables(): Promise<Result<Record<string, string>, Error>> {\n    if (!this.isAvailable()) {\n      return success({});\n    }\n\n    try {\n      const variables: Record<string, string> = {};\n      const styles = getComputedStyle(document.documentElement);\n\n      for (let i = 0; i < styles.length; i++) {\n        const prop = styles[i];\n        if (prop.startsWith('--')) {\n          variables[prop] = styles.getPropertyValue(prop).trim();\n        }\n      }\n\n      return success(variables);\n    } catch (error) {\n      return failure(\n        error instanceof Error ? error : new Error('Failed to get variables')\n      );\n    }\n  }\n\n  isAvailable(): boolean {\n    return typeof document !== 'undefined' && typeof window !== 'undefined';\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────\n  // PRIVATE METHODS\n  // ─────────────────────────────────────────────────────────────────────────\n\n  private initializeStyleElement(): void {\n    let element = document.getElementById(this.options.styleElementId) as HTMLStyleElement;\n\n    if (!element) {\n      element = document.createElement('style');\n      element.id = this.options.styleElementId;\n      document.head.appendChild(element);\n    }\n\n    this.styleElement = element;\n  }\n\n  private initializeMediaQueryListener(): void {\n    if (!this.options.useDarkModeMediaQuery) return;\n\n    this.mediaQueryList = window.matchMedia('(prefers-color-scheme: dark)');\n\n    const handler = (_e: MediaQueryListEvent) => {\n      this.notifySystemPrefsChange();\n\n      // Auto-sync if enabled\n      this.getPreferences().then(result => {\n        if (result.success && result.value.followSystem) {\n          this.syncWithSystem();\n        }\n      });\n    };\n\n    this.mediaQueryList.addEventListener('change', handler);\n  }\n\n  private loadPreferences(): void {\n    this.getPreferences().then(result => {\n      if (!result.success) return;\n\n      const prefs = result.value;\n\n      if (prefs.preferredTheme) {\n        this.switchTo(prefs.preferredTheme);\n      }\n\n      if (prefs.darkModeOverride !== null && prefs.darkModeOverride !== undefined) {\n        this.isDarkMode = prefs.darkModeOverride;\n      } else if (prefs.followSystem) {\n        this.syncWithSystem();\n      }\n    });\n  }\n\n  private generateCss(config: ThemeConfig): string {\n    const prefix = config.namespace || this.options.variablePrefix;\n    const cssContent = config.tokens.export({\n      format: 'css',\n      prefix,\n    });\n\n    // Wrap in selector\n    const selector = config.rootSelector || this.options.rootSelector;\n\n    return `${selector} {\\n${cssContent}\\n}`;\n  }\n\n  private enableTransitions(duration?: number): void {\n    const ms = duration || this.options.defaultTransitionDuration;\n    document.documentElement.style.setProperty(\n      '--theme-transition',\n      `all ${ms}ms ease-in-out`\n    );\n    document.documentElement.style.setProperty('transition', `var(--theme-transition)`);\n  }\n\n  private disableTransitions(): void {\n    document.documentElement.style.removeProperty('--theme-transition');\n    document.documentElement.style.removeProperty('transition');\n  }\n\n  private countAppliedVariables(): number {\n    if (!this.styleElement?.textContent) return 0;\n\n    const matches = this.styleElement.textContent.match(/--[^:]+:/g);\n    return matches?.length || 0;\n  }\n\n  private detectContrastPreference(): SystemPreferences['prefersContrast'] {\n    if (window.matchMedia('(prefers-contrast: more)').matches) return 'more';\n    if (window.matchMedia('(prefers-contrast: less)').matches) return 'less';\n    if (window.matchMedia('(prefers-contrast: custom)').matches) return 'custom';\n    return 'no-preference';\n  }\n\n  private notifyThemeChange(): void {\n    this.getState().then(result => {\n      if (result.success) {\n        for (const listener of this.themeChangeListeners) {\n          listener(result.value);\n        }\n      }\n    });\n  }\n\n  private notifySystemPrefsChange(): void {\n    this.detectSystemPreferences().then(result => {\n      if (result.success) {\n        for (const listener of this.systemPrefsListeners) {\n          listener(result.value);\n        }\n      }\n    });\n  }\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default CssVariablesAdapter;\n"]}