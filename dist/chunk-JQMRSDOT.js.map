{"version":3,"sources":["../adapters/react/ReactThemeProvider.tsx","../adapters/react/useTheme.ts"],"names":["createContext","useReducer","useRef","useEffect","CssVariablesAdapter","useCallback","failure","useMemo","useContext","useState"],"mappings":"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","file":"chunk-JQMRSDOT.js","sourcesContent":["/**\n * @fileoverview React Theme Provider\n *\n * Provider de React para el sistema de temas basado en Color Intelligence.\n * Implementa ThemeAdapterPort para entornos React.\n *\n * @module momoto-ui/adapters/react/ReactThemeProvider\n * @version 1.0.0\n */\n\nimport React, {\n  createContext,\n  useContext,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  type ReactNode,\n} from 'react';\n\nimport type { Result } from '../../domain/types';\nimport { failure } from '../../domain/types';\nimport type { TokenCollection } from '../../domain/tokens';\nimport type {\n  ThemeConfig,\n  ThemeState,\n  ThemeChangeOptions,\n  ThemePreferences,\n  SystemPreferences,\n} from '../../application/ports/outbound/ThemeAdapterPort';\nimport { CssVariablesAdapter, type CssAdapterOptions } from '../css/CssVariablesAdapter';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\n/**\n * Estado del contexto de tema.\n */\ninterface ThemeContextState {\n  /** Tema activo actual */\n  readonly activeTheme: string | null;\n  /** Si estÃ¡ en modo oscuro */\n  readonly isDark: boolean;\n  /** Temas disponibles */\n  readonly availableThemes: string[];\n  /** Si estÃ¡ cargando */\n  readonly isLoading: boolean;\n  /** Error actual si existe */\n  readonly error: Error | null;\n  /** Preferencias del sistema */\n  readonly systemPreferences: SystemPreferences | null;\n  /** Tokens aplicados actualmente */\n  readonly appliedTokens: TokenCollection | null;\n}\n\n/**\n * Acciones disponibles en el contexto.\n */\ninterface ThemeContextActions {\n  /** Aplica un tema */\n  applyTheme: (config: ThemeConfig) => Promise<Result<void, Error>>;\n  /** Cambia a un tema registrado */\n  switchTheme: (themeName: string, options?: ThemeChangeOptions) => Promise<Result<void, Error>>;\n  /** Alterna modo oscuro */\n  toggleDarkMode: (options?: ThemeChangeOptions) => Promise<Result<void, Error>>;\n  /** Registra un nuevo tema */\n  registerTheme: (config: ThemeConfig) => Promise<Result<void, Error>>;\n  /** Elimina un tema registrado */\n  unregisterTheme: (themeName: string) => Promise<Result<void, Error>>;\n  /** Sincroniza con preferencias del sistema */\n  syncWithSystem: () => Promise<Result<void, Error>>;\n  /** Obtiene preferencias guardadas */\n  getPreferences: () => Promise<Result<ThemePreferences, Error>>;\n  /** Guarda preferencias */\n  setPreferences: (prefs: Partial<ThemePreferences>) => Promise<Result<void, Error>>;\n  /** Obtiene una variable CSS */\n  getVariable: (name: string) => Promise<Result<string | null, Error>>;\n  /** Establece una variable CSS */\n  setVariable: (name: string, value: string) => Promise<Result<void, Error>>;\n}\n\n/**\n * Valor completo del contexto de tema.\n */\ntype ThemeContextValue = ThemeContextState & ThemeContextActions;\n\n/**\n * Props del ThemeProvider.\n */\nexport interface ThemeProviderProps {\n  /** Nodos hijos */\n  children: ReactNode;\n  /** Tema inicial a aplicar */\n  initialTheme?: ThemeConfig;\n  /** Temas pre-registrados */\n  themes?: ThemeConfig[];\n  /** Opciones del adaptador CSS */\n  cssOptions?: CssAdapterOptions;\n  /** Si sincronizar automÃ¡ticamente con el sistema */\n  followSystem?: boolean;\n  /** Callback cuando cambia el tema */\n  onThemeChange?: (state: ThemeState) => void;\n  /** Callback cuando cambian las preferencias del sistema */\n  onSystemPreferencesChange?: (prefs: SystemPreferences) => void;\n}\n\n// ============================================================================\n// REDUCER\n// ============================================================================\n\ntype ThemeAction =\n  | { type: 'SET_LOADING'; payload: boolean }\n  | { type: 'SET_ERROR'; payload: Error | null }\n  | { type: 'SET_THEME'; payload: { name: string; isDark: boolean; tokens: TokenCollection | null } }\n  | { type: 'SET_AVAILABLE_THEMES'; payload: string[] }\n  | { type: 'SET_SYSTEM_PREFERENCES'; payload: SystemPreferences }\n  | { type: 'TOGGLE_DARK_MODE' }\n  | { type: 'CLEAR_THEME' };\n\nfunction themeReducer(state: ThemeContextState, action: ThemeAction): ThemeContextState {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, isLoading: action.payload };\n\n    case 'SET_ERROR':\n      return { ...state, error: action.payload, isLoading: false };\n\n    case 'SET_THEME':\n      return {\n        ...state,\n        activeTheme: action.payload.name,\n        isDark: action.payload.isDark,\n        appliedTokens: action.payload.tokens,\n        error: null,\n        isLoading: false,\n      };\n\n    case 'SET_AVAILABLE_THEMES':\n      return { ...state, availableThemes: action.payload };\n\n    case 'SET_SYSTEM_PREFERENCES':\n      return { ...state, systemPreferences: action.payload };\n\n    case 'TOGGLE_DARK_MODE':\n      return { ...state, isDark: !state.isDark };\n\n    case 'CLEAR_THEME':\n      return {\n        ...state,\n        activeTheme: null,\n        appliedTokens: null,\n        error: null,\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst initialState: ThemeContextState = {\n  activeTheme: null,\n  isDark: false,\n  availableThemes: [],\n  isLoading: true,\n  error: null,\n  systemPreferences: null,\n  appliedTokens: null,\n};\n\n// ============================================================================\n// CONTEXT\n// ============================================================================\n\nconst ThemeContext = createContext<ThemeContextValue | null>(null);\n\n// ============================================================================\n// PROVIDER\n// ============================================================================\n\n/**\n * ThemeProvider - Provider de React para el sistema de temas.\n *\n * Envuelve la aplicaciÃ³n para proporcionar acceso al sistema de temas\n * basado en Color Intelligence.\n *\n * @example\n * ```tsx\n * import { ThemeProvider } from '@zuclubit/momoto-ui/adapters/react';\n *\n * function App() {\n *   return (\n *     <ThemeProvider\n *       initialTheme={brandTheme}\n *       themes={[brandTheme, brandDarkTheme]}\n *       followSystem={true}\n *       onThemeChange={(state) => console.log('Theme changed:', state)}\n *     >\n *       <MyApp />\n *     </ThemeProvider>\n *   );\n * }\n * ```\n */\nexport function ThemeProvider({\n  children,\n  initialTheme,\n  themes = [],\n  cssOptions,\n  followSystem = false,\n  onThemeChange,\n  onSystemPreferencesChange,\n}: ThemeProviderProps): React.ReactElement {\n  const [state, dispatch] = useReducer(themeReducer, initialState);\n  const adapterRef = useRef<CssVariablesAdapter | null>(null);\n  const registeredThemesRef = useRef<Map<string, ThemeConfig>>(new Map());\n\n  // Initialize adapter\n  useEffect(() => {\n    adapterRef.current = new CssVariablesAdapter(cssOptions);\n\n    // Register initial themes\n    for (const theme of themes) {\n      registeredThemesRef.current.set(theme.name, theme);\n      adapterRef.current.registerTheme(theme);\n    }\n\n    dispatch({ type: 'SET_AVAILABLE_THEMES', payload: Array.from(registeredThemesRef.current.keys()) });\n\n    // Subscribe to theme changes\n    const unsubscribeTheme = adapterRef.current.onThemeChange((themeState) => {\n      onThemeChange?.(themeState);\n    });\n\n    // Subscribe to system preferences changes\n    const unsubscribeSystem = adapterRef.current.onSystemPreferencesChange((prefs) => {\n      dispatch({ type: 'SET_SYSTEM_PREFERENCES', payload: prefs });\n      onSystemPreferencesChange?.(prefs);\n    });\n\n    // Detect initial system preferences\n    adapterRef.current.detectSystemPreferences().then((result) => {\n      if (result.success) {\n        dispatch({ type: 'SET_SYSTEM_PREFERENCES', payload: result.value });\n      }\n    });\n\n    // Apply initial theme\n    if (initialTheme) {\n      adapterRef.current.apply(initialTheme).then((result) => {\n        if (result.success) {\n          dispatch({\n            type: 'SET_THEME',\n            payload: {\n              name: initialTheme.name,\n              isDark: initialTheme.isDark,\n              tokens: initialTheme.tokens,\n            },\n          });\n        } else {\n          dispatch({ type: 'SET_ERROR', payload: result.error });\n        }\n      });\n    } else if (followSystem) {\n      adapterRef.current.syncWithSystem();\n      dispatch({ type: 'SET_LOADING', payload: false });\n    } else {\n      dispatch({ type: 'SET_LOADING', payload: false });\n    }\n\n    return () => {\n      unsubscribeTheme();\n      unsubscribeSystem();\n    };\n  }, []);\n\n  // Follow system preference changes\n  useEffect(() => {\n    if (!followSystem || !state.systemPreferences) return;\n\n    const shouldBeDark = state.systemPreferences.prefersDark;\n    if (shouldBeDark !== state.isDark && adapterRef.current) {\n      adapterRef.current.toggleDarkMode({ animate: true });\n    }\n  }, [followSystem, state.systemPreferences?.prefersDark]);\n\n  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  // ACTIONS\n  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const applyTheme = useCallback(async (config: ThemeConfig): Promise<Result<void, Error>> => {\n    if (!adapterRef.current) {\n      return failure(new Error('Theme adapter not initialized'));\n    }\n\n    dispatch({ type: 'SET_LOADING', payload: true });\n\n    const result = await adapterRef.current.apply(config);\n\n    if (result.success) {\n      registeredThemesRef.current.set(config.name, config);\n      dispatch({\n        type: 'SET_THEME',\n        payload: {\n          name: config.name,\n          isDark: config.isDark,\n          tokens: config.tokens,\n        },\n      });\n      dispatch({\n        type: 'SET_AVAILABLE_THEMES',\n        payload: Array.from(registeredThemesRef.current.keys()),\n      });\n    } else {\n      dispatch({ type: 'SET_ERROR', payload: result.error });\n    }\n\n    return result;\n  }, []);\n\n  const switchTheme = useCallback(\n    async (themeName: string, options?: ThemeChangeOptions): Promise<Result<void, Error>> => {\n      if (!adapterRef.current) {\n        return failure(new Error('Theme adapter not initialized'));\n      }\n\n      const theme = registeredThemesRef.current.get(themeName);\n      if (!theme) {\n        return failure(new Error(`Theme \"${themeName}\" not found`));\n      }\n\n      dispatch({ type: 'SET_LOADING', payload: true });\n\n      const result = await adapterRef.current.switchTo(themeName, options);\n\n      if (result.success) {\n        dispatch({\n          type: 'SET_THEME',\n          payload: {\n            name: themeName,\n            isDark: theme.isDark,\n            tokens: theme.tokens,\n          },\n        });\n      } else {\n        dispatch({ type: 'SET_ERROR', payload: result.error });\n      }\n\n      return result;\n    },\n    []\n  );\n\n  const toggleDarkMode = useCallback(\n    async (options?: ThemeChangeOptions): Promise<Result<void, Error>> => {\n      if (!adapterRef.current) {\n        return failure(new Error('Theme adapter not initialized'));\n      }\n\n      const result = await adapterRef.current.toggleDarkMode(options);\n\n      if (result.success) {\n        dispatch({ type: 'TOGGLE_DARK_MODE' });\n      }\n\n      return result;\n    },\n    []\n  );\n\n  const registerTheme = useCallback(async (config: ThemeConfig): Promise<Result<void, Error>> => {\n    if (!adapterRef.current) {\n      return failure(new Error('Theme adapter not initialized'));\n    }\n\n    const result = await adapterRef.current.registerTheme(config);\n\n    if (result.success) {\n      registeredThemesRef.current.set(config.name, config);\n      dispatch({\n        type: 'SET_AVAILABLE_THEMES',\n        payload: Array.from(registeredThemesRef.current.keys()),\n      });\n    }\n\n    return result;\n  }, []);\n\n  const unregisterTheme = useCallback(\n    async (themeName: string): Promise<Result<void, Error>> => {\n      if (!adapterRef.current) {\n        return failure(new Error('Theme adapter not initialized'));\n      }\n\n      const result = await adapterRef.current.unregisterTheme(themeName);\n\n      if (result.success) {\n        registeredThemesRef.current.delete(themeName);\n        dispatch({\n          type: 'SET_AVAILABLE_THEMES',\n          payload: Array.from(registeredThemesRef.current.keys()),\n        });\n\n        if (state.activeTheme === themeName) {\n          dispatch({ type: 'CLEAR_THEME' });\n        }\n      }\n\n      return result;\n    },\n    [state.activeTheme]\n  );\n\n  const syncWithSystem = useCallback(async (): Promise<Result<void, Error>> => {\n    if (!adapterRef.current) {\n      return failure(new Error('Theme adapter not initialized'));\n    }\n\n    return adapterRef.current.syncWithSystem();\n  }, []);\n\n  const getPreferences = useCallback(async (): Promise<Result<ThemePreferences, Error>> => {\n    if (!adapterRef.current) {\n      return failure(new Error('Theme adapter not initialized'));\n    }\n\n    return adapterRef.current.getPreferences();\n  }, []);\n\n  const setPreferences = useCallback(\n    async (prefs: Partial<ThemePreferences>): Promise<Result<void, Error>> => {\n      if (!adapterRef.current) {\n        return failure(new Error('Theme adapter not initialized'));\n      }\n\n      return adapterRef.current.setPreferences(prefs);\n    },\n    []\n  );\n\n  const getVariable = useCallback(\n    async (name: string): Promise<Result<string | null, Error>> => {\n      if (!adapterRef.current) {\n        return failure(new Error('Theme adapter not initialized'));\n      }\n\n      return adapterRef.current.getVariable(name);\n    },\n    []\n  );\n\n  const setVariable = useCallback(\n    async (name: string, value: string): Promise<Result<void, Error>> => {\n      if (!adapterRef.current) {\n        return failure(new Error('Theme adapter not initialized'));\n      }\n\n      return adapterRef.current.setVariable(name, value);\n    },\n    []\n  );\n\n  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  // CONTEXT VALUE\n  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  const contextValue = useMemo<ThemeContextValue>(\n    () => ({\n      ...state,\n      applyTheme,\n      switchTheme,\n      toggleDarkMode,\n      registerTheme,\n      unregisterTheme,\n      syncWithSystem,\n      getPreferences,\n      setPreferences,\n      getVariable,\n      setVariable,\n    }),\n    [\n      state,\n      applyTheme,\n      switchTheme,\n      toggleDarkMode,\n      registerTheme,\n      unregisterTheme,\n      syncWithSystem,\n      getPreferences,\n      setPreferences,\n      getVariable,\n      setVariable,\n    ]\n  );\n\n  return <ThemeContext.Provider value={contextValue}>{children}</ThemeContext.Provider>;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * Hook para acceder al contexto de tema.\n *\n * @throws Error si se usa fuera de ThemeProvider\n *\n * @example\n * ```tsx\n * function MyComponent() {\n *   const {\n *     isDark,\n *     activeTheme,\n *     toggleDarkMode,\n *     switchTheme,\n *   } = useThemeContext();\n *\n *   return (\n *     <button onClick={() => toggleDarkMode({ animate: true })}>\n *       {isDark ? 'ğŸŒ™' : 'â˜€ï¸'}\n *     </button>\n *   );\n * }\n * ```\n */\nexport function useThemeContext(): ThemeContextValue {\n  const context = useContext(ThemeContext);\n\n  if (!context) {\n    throw new Error('useThemeContext must be used within a ThemeProvider');\n  }\n\n  return context;\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport { ThemeContext };\nexport type { ThemeContextState, ThemeContextActions, ThemeContextValue };\n","/**\n * @fileoverview React Theme Hooks\n *\n * Hooks especializados para acceder a diferentes aspectos del sistema de temas.\n *\n * @module momoto-ui/adapters/react/useTheme\n * @version 1.0.0\n */\n\nimport { useMemo, useCallback, useState, useEffect } from 'react';\nimport { useThemeContext } from './ReactThemeProvider';\nimport type { ThemeChangeOptions } from '../../application/ports/outbound/ThemeAdapterPort';\n\n// ============================================================================\n// HOOKS\n// ============================================================================\n\n/**\n * Hook simplificado para acceder al estado del tema.\n *\n * @example\n * ```tsx\n * function Header() {\n *   const { isDark, themeName } = useTheme();\n *\n *   return (\n *     <header className={isDark ? 'bg-gray-900' : 'bg-white'}>\n *       Current theme: {themeName}\n *     </header>\n *   );\n * }\n * ```\n */\nexport function useTheme() {\n  const context = useThemeContext();\n\n  return useMemo(\n    () => ({\n      /** Si el modo oscuro estÃ¡ activo */\n      isDark: context.isDark,\n      /** Nombre del tema activo */\n      themeName: context.activeTheme,\n      /** Si estÃ¡ cargando */\n      isLoading: context.isLoading,\n      /** Error actual */\n      error: context.error,\n      /** Preferencias del sistema */\n      systemPreferences: context.systemPreferences,\n    }),\n    [\n      context.isDark,\n      context.activeTheme,\n      context.isLoading,\n      context.error,\n      context.systemPreferences,\n    ]\n  );\n}\n\n/**\n * Hook para controlar el modo oscuro.\n *\n * @example\n * ```tsx\n * function DarkModeToggle() {\n *   const { isDark, toggle, setDark, setLight } = useDarkMode();\n *\n *   return (\n *     <div>\n *       <button onClick={toggle}>Toggle</button>\n *       <button onClick={setDark}>Dark</button>\n *       <button onClick={setLight}>Light</button>\n *       <span>{isDark ? 'ğŸŒ™' : 'â˜€ï¸'}</span>\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useDarkMode() {\n  const { isDark, toggleDarkMode, switchTheme, activeTheme, availableThemes } = useThemeContext();\n\n  const toggle = useCallback(\n    (options?: ThemeChangeOptions) => toggleDarkMode(options),\n    [toggleDarkMode]\n  );\n\n  const setDark = useCallback(\n    async (options?: ThemeChangeOptions) => {\n      if (isDark) return;\n\n      // Try to find a dark variant of current theme\n      const darkThemeName = activeTheme ? `${activeTheme}-dark` : null;\n      if (darkThemeName && availableThemes.includes(darkThemeName)) {\n        await switchTheme(darkThemeName, options);\n      } else {\n        await toggleDarkMode(options);\n      }\n    },\n    [isDark, activeTheme, availableThemes, switchTheme, toggleDarkMode]\n  );\n\n  const setLight = useCallback(\n    async (options?: ThemeChangeOptions) => {\n      if (!isDark) return;\n\n      // Try to find a light variant of current theme\n      const lightThemeName = activeTheme?.replace(/-dark$/, '') ?? null;\n      if (lightThemeName && availableThemes.includes(lightThemeName)) {\n        await switchTheme(lightThemeName, options);\n      } else {\n        await toggleDarkMode(options);\n      }\n    },\n    [isDark, activeTheme, availableThemes, switchTheme, toggleDarkMode]\n  );\n\n  return useMemo(\n    () => ({\n      isDark,\n      toggle,\n      setDark,\n      setLight,\n    }),\n    [isDark, toggle, setDark, setLight]\n  );\n}\n\n/**\n * Hook para cambiar entre temas.\n *\n * @example\n * ```tsx\n * function ThemePicker() {\n *   const { themes, current, switchTo } = useThemeSwitcher();\n *\n *   return (\n *     <select\n *       value={current ?? ''}\n *       onChange={(e) => switchTo(e.target.value, { animate: true })}\n *     >\n *       {themes.map((theme) => (\n *         <option key={theme} value={theme}>\n *           {theme}\n *         </option>\n *       ))}\n *     </select>\n *   );\n * }\n * ```\n */\nexport function useThemeSwitcher() {\n  const { activeTheme, availableThemes, switchTheme, registerTheme, unregisterTheme } =\n    useThemeContext();\n\n  const switchTo = useCallback(\n    (themeName: string, options?: ThemeChangeOptions) => switchTheme(themeName, options),\n    [switchTheme]\n  );\n\n  return useMemo(\n    () => ({\n      /** Tema activo actual */\n      current: activeTheme,\n      /** Lista de temas disponibles */\n      themes: availableThemes,\n      /** Cambiar a un tema */\n      switchTo,\n      /** Registrar un nuevo tema */\n      register: registerTheme,\n      /** Eliminar un tema */\n      unregister: unregisterTheme,\n    }),\n    [activeTheme, availableThemes, switchTo, registerTheme, unregisterTheme]\n  );\n}\n\n/**\n * Hook para acceder a variables CSS del tema.\n *\n * @example\n * ```tsx\n * function BrandColorDisplay() {\n *   const { value, loading } = useThemeVariable('--color-brand-500');\n *\n *   if (loading) return <span>Loading...</span>;\n *\n *   return (\n *     <div style={{ backgroundColor: value ?? '#ccc' }}>\n *       Brand color: {value}\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useThemeVariable(variableName: string) {\n  const { getVariable, setVariable } = useThemeContext();\n  const [value, setValue] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    let mounted = true;\n\n    setLoading(true);\n    getVariable(variableName).then((result) => {\n      if (!mounted) return;\n\n      if (result.success) {\n        setValue(result.value);\n        setError(null);\n      } else {\n        setError(result.error);\n      }\n      setLoading(false);\n    });\n\n    return () => {\n      mounted = false;\n    };\n  }, [variableName, getVariable]);\n\n  const set = useCallback(\n    async (newValue: string) => {\n      const result = await setVariable(variableName, newValue);\n      if (result.success) {\n        setValue(newValue);\n      }\n      return result;\n    },\n    [variableName, setVariable]\n  );\n\n  return useMemo(\n    () => ({\n      value,\n      loading,\n      error,\n      set,\n    }),\n    [value, loading, error, set]\n  );\n}\n\n/**\n * Hook para detectar preferencias del sistema.\n *\n * @example\n * ```tsx\n * function AccessibilityInfo() {\n *   const {\n *     prefersDark,\n *     prefersReducedMotion,\n *     prefersContrast,\n *   } = useSystemPreferences();\n *\n *   return (\n *     <div>\n *       <p>Prefers dark: {prefersDark ? 'Yes' : 'No'}</p>\n *       <p>Reduced motion: {prefersReducedMotion ? 'Yes' : 'No'}</p>\n *       <p>Contrast: {prefersContrast}</p>\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useSystemPreferences() {\n  const { systemPreferences, syncWithSystem } = useThemeContext();\n\n  return useMemo(\n    () => ({\n      /** Prefiere modo oscuro */\n      prefersDark: systemPreferences?.prefersDark ?? false,\n      /** Prefiere movimiento reducido */\n      prefersReducedMotion: systemPreferences?.prefersReducedMotion ?? false,\n      /** Preferencia de contraste */\n      prefersContrast: systemPreferences?.prefersContrast ?? 'no-preference',\n      /** Prefiere transparencia reducida */\n      prefersReducedTransparency: systemPreferences?.prefersReducedTransparency ?? false,\n      /** Colores forzados activos */\n      forcedColors: systemPreferences?.forcedColors ?? false,\n      /** Sincronizar tema con preferencias del sistema */\n      sync: syncWithSystem,\n    }),\n    [systemPreferences, syncWithSystem]\n  );\n}\n\n/**\n * Hook para acceder a los tokens aplicados actualmente.\n *\n * @example\n * ```tsx\n * function TokenDebugger() {\n *   const { tokens, hasTokens } = useAppliedTokens();\n *\n *   if (!hasTokens) return <p>No tokens applied</p>;\n *\n *   return (\n *     <pre>\n *       {tokens?.export({ format: 'json' })}\n *     </pre>\n *   );\n * }\n * ```\n */\nexport function useAppliedTokens() {\n  const { appliedTokens } = useThemeContext();\n\n  return useMemo(\n    () => ({\n      /** ColecciÃ³n de tokens aplicados */\n      tokens: appliedTokens,\n      /** Si hay tokens aplicados */\n      hasTokens: appliedTokens !== null,\n    }),\n    [appliedTokens]\n  );\n}\n\n/**\n * Hook para manejar preferencias de tema persistidas.\n *\n * @example\n * ```tsx\n * function PreferencesManager() {\n *   const {\n *     preferences,\n *     loading,\n *     setFollowSystem,\n *     setPreferredTheme,\n *   } = useThemePreferences();\n *\n *   return (\n *     <div>\n *       <label>\n *         <input\n *           type=\"checkbox\"\n *           checked={preferences?.followSystem ?? false}\n *           onChange={(e) => setFollowSystem(e.target.checked)}\n *         />\n *         Follow system\n *       </label>\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useThemePreferences() {\n  const { getPreferences, setPreferences } = useThemeContext();\n  const [preferences, setLocalPreferences] = useState<Record<string, unknown> | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let mounted = true;\n\n    getPreferences().then((result) => {\n      if (!mounted) return;\n\n      if (result.success) {\n        setLocalPreferences(result.value as Record<string, unknown>);\n      }\n      setLoading(false);\n    });\n\n    return () => {\n      mounted = false;\n    };\n  }, [getPreferences]);\n\n  const setFollowSystem = useCallback(\n    async (follow: boolean) => {\n      await setPreferences({ followSystem: follow });\n      setLocalPreferences((prev) => (prev ? { ...prev, followSystem: follow } : { followSystem: follow }));\n    },\n    [setPreferences]\n  );\n\n  const setPreferredTheme = useCallback(\n    async (themeName: string) => {\n      await setPreferences({ preferredTheme: themeName });\n      setLocalPreferences((prev) => (prev ? { ...prev, preferredTheme: themeName } : { preferredTheme: themeName }));\n    },\n    [setPreferences]\n  );\n\n  const setDarkModeOverride = useCallback(\n    async (isDark: boolean | null) => {\n      await setPreferences({ darkModeOverride: isDark });\n      setLocalPreferences((prev) => (prev ? { ...prev, darkModeOverride: isDark } : { darkModeOverride: isDark }));\n    },\n    [setPreferences]\n  );\n\n  return useMemo(\n    () => ({\n      preferences,\n      loading,\n      setFollowSystem,\n      setPreferredTheme,\n      setDarkModeOverride,\n    }),\n    [preferences, loading, setFollowSystem, setPreferredTheme, setDarkModeOverride]\n  );\n}\n"]}