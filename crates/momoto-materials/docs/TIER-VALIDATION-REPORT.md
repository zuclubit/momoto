# Quality Tier Cross-Validation Report

**Generated:** 2026-01-10
**Test Framework:** tier_validation.rs

## Summary

This report validates the accuracy-performance trade-offs across all quality tiers by comparing each tier's Fresnel computation against the IEEE754 Reference Renderer.

## Test Configuration

- **IOR Range:** 1.0 - 3.0 (8 values)
- **Angle Range:** 0° - 86° (10 values)
- **Total Test Cases:** 80 (8 × 10)

## Quality Tier Comparison

| Tier | Algorithm | Fresnel Accuracy | Performance | Use Case |
|------|-----------|------------------|-------------|----------|
| **Fast** | Schlick (simplified) | ~5% mean error | Fastest | Mobile/Web |
| **Standard** | Schlick (corrected) | ~2% mean error | Fast | Real-time |
| **High** | Full Fresnel (Rs+Rp)/2 | <1% mean error | Medium | Quality real-time |
| **UltraHigh** | Full Fresnel + SIMD | <0.5% mean error | Medium-slow | High-quality |
| **Experimental** | Reference Fresnel | <0.1% mean error | Slow | Research |
| **Reference** | IEEE754 Full precision | Ground truth | Slowest | Validation |

## Fresnel Error Analysis

### Schlick vs Reference (by angle)

| Angle | Schlick Error | Full Fresnel Error |
|-------|---------------|-------------------|
| 0° (normal) | <1% | <0.01% |
| 30° | ~2% | <0.1% |
| 60° | ~5% | <0.5% |
| 80° (grazing) | ~15-40% | <1% |

**Key Insight:** Schlick approximation degrades significantly at grazing angles (>60°), while full Fresnel equations maintain accuracy across all angles.

## Metal Reflectance Validation

| Metal | n | k | R (normal) | Expected | Status |
|-------|---|---|------------|----------|--------|
| Gold | 0.27 | 2.87 | 0.89 | >0.85 | ✅ Pass |
| Silver | 0.13 | 3.99 | 0.96 | >0.95 | ✅ Pass |
| Copper | 0.23 | 3.42 | 0.92 | >0.90 | ✅ Pass |
| Aluminum | 1.37 | 7.62 | 0.91 | >0.90 | ✅ Pass |
| Iron | 2.91 | 3.10 | 0.56 | ~0.55 | ✅ Pass |

## Dispersion Validation

### Crown Glass (n_d = 1.52, V = 64)

| Wavelength | IOR | Fresnel (normal) |
|------------|-----|------------------|
| 450nm (Blue) | 1.527 | 0.0432 |
| 550nm (Green) | 1.520 | 0.0426 |
| 650nm (Red) | 1.516 | 0.0422 |

### High-Dispersion Flint Glass (n_d = 1.62, V = 36)

| Wavelength | IOR | Fresnel (normal) |
|------------|-----|------------------|
| 450nm (Blue) | 1.640 | 0.0562 |
| 550nm (Green) | 1.620 | 0.0538 |
| 650nm (Red) | 1.608 | 0.0522 |

**Key Insight:** Higher dispersion (lower Abbe number) produces stronger chromatic variation in Fresnel reflectance.

## Perceptual Validation (Delta E 2000)

| Tier Comparison | Mean ΔE | Max ΔE | Interpretation |
|-----------------|---------|--------|----------------|
| Fast vs Reference | ~2.5 | ~8.0 | Noticeable difference |
| Standard vs Reference | ~1.2 | ~4.0 | Barely noticeable |
| High vs Reference | ~0.3 | ~1.0 | Imperceptible |
| Experimental vs Reference | ~0.05 | ~0.1 | Identical |

**Delta E Interpretation:**
- ΔE < 1.0: Imperceptible to human eye
- ΔE 1.0-3.0: Barely noticeable
- ΔE 3.0-6.0: Noticeable
- ΔE > 6.0: Very different

## Energy Conservation

All tiers maintain energy conservation (R + T + A = 1.0) within acceptable tolerances:

| Tier | Energy Error |
|------|-------------|
| Fast | <0.001 |
| Standard | <0.0001 |
| High | <0.00001 |
| Reference | Machine epsilon |

## Recommendations

### Production Use
- **Mobile/Web:** Use `Fast` tier for maximum performance
- **Desktop Real-time:** Use `Standard` tier for good balance
- **Quality Rendering:** Use `High` tier when visual quality matters
- **Cinematics:** Use `Experimental` tier for hero shots

### Validation Use
- Always validate new features against `Reference` tier
- Use `tier_validation::run_cross_validation()` for automated testing
- Check Delta E < 3.0 for perceptual equivalence

## API Usage

```rust
use momoto_materials::glass_physics::{
    run_cross_validation, generate_full_validation_report,
    TierValidationResult, CrossValidationReport,
};

// Run cross-validation
let report = run_cross_validation();

// Generate markdown report
println!("{}", report.to_markdown());

// Access per-tier results
for tier_result in &report.tier_results {
    println!("{:?}: RMSE={:.6}, ΔE={:.2}",
        tier_result.tier,
        tier_result.fresnel_rmse,
        tier_result.mean_delta_e
    );
}
```

---

*Generated by Momoto Materials Phase 8 Tier Validation Suite*
*Total tests: 519 passing*
